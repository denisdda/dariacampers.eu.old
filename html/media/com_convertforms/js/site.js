function _createForOfIteratorHelperLoose(e,t){var r;if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator])return(r=e[Symbol.iterator]()).next.bind(r);if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(n,o){"use strict";var a=null,i={getOption:function(e,t){t=void 0===t?"":t;var r=this.getJoomlaOption("com_convertforms");return r&&void 0!==r[e]?r[e]:t},text:function(e,t){t=void 0===t?"":t;var r=this.getJoomlaOption("joomla.jtext");return void 0!==r[e]?r[e]:t},getJoomlaOption:function(e,t){if(!a){var r=o.querySelector(".joomla-script-options");if(!r)return;a=JSON.parse(r.text||r.textContent)}return void 0!==a[e]?a[e]:t},getCSRFToken:function(){return this.getJoomlaOption("csrf.token")},getBaseURL:function(e){var t=this.getOption("baseURL","index.php?option=com_convertforms");return e&&void 0!==e&&(t=t+(-1<t.indexOf("?")?"&":"?")+e),this.emitEvent("ConvertFormsGetBaseURL",o,{url:t}).detail.url},getFormData:function(e){for(var t,r=new FormData(e),n=new FormData,o=_createForOfIteratorHelperLoose(r);!(t=o()).done;){var a=t.value,i=a[0],s=a[1],c=e.querySelector('.cf-input[name="'+i+'"]');c&&(!c||c.closest(".cf-control-group.cf-ignore"))||n.append(i,s)}return n},serializeFormData:function(e,t){t=t||!1;for(var r,n=[],o=_createForOfIteratorHelperLoose(e.entries());!(r=o()).done;){var a,i=r.value,s=i[0],c=i[1];t&&-1<s.indexOf("cf[")&&(a=-1<s.indexOf("[]"),s=s.match(/cf\[(.*?)\]/)[1],a&&(s+="[]")),n.push(encodeURIComponent(s)+"="+encodeURIComponent(c))}return n.join("&")},isInViewport:function(e){var t=e.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom<=(n.innerHeight||o.documentElement.clientHeight)&&t.right<=(n.innerWidth||o.documentElement.clientWidth)},emitEvent:function(e,t,r){var n=new CustomEvent(e,{detail:r,cancelable:!0});return t.dispatchEvent(n),n},request:function(t){t=i.extend({url:"",method:"POST",headers:null,data:null,onSuccess:null,onError:null,onFail:null},t);try{var r=new XMLHttpRequest;if(r.open(t.method,t.url,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("X-Ajax-Engine","Convert Forms!"),t.headers)for(var e in t.headers)t.headers.hasOwnProperty(e)&&r.setRequestHeader(e,t.headers[e]);if(r.onload=function(){4===r.readyState&&(200===r.status?t.onSuccess&&t.onSuccess.call(n,r.responseText,r):t.onError&&t.onError.call(n,r.responseText,r),t.onComplete&&t.onComplete.call(n,r))},t.onBefore&&!1===t.onBefore.call(n,r))return r;r.send(t.data)}catch(e){return t.onFail&&t.onFail.call(n,e,r),console.error(e),!1}return r},extend:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},capitalize:function(e){return"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},browserIsIE:function(){var e=n.navigator.userAgent,t=e.indexOf("MSIE "),r=e.indexOf("Trident/");return 0<t||0<r},loadScript:function(e,t){var r=o.head,n=o.createElement("script");n.type="text/javascript",n.src=e,n.onreadystatechange=t,n.onload=t,r.appendChild(n)},onReady:function(e){"loading"==o.readyState?o.addEventListener("DOMContentLoaded",function(){e(o.querySelectorAll("div.convertforms"))}):e(o.querySelectorAll("div.convertforms"))},toggleCheck:function(e,t){var r;e&&(r=!1,!e.checked&&t&&(r=e.checked=!0),e.checked&&!t&&(r=!(e.checked=!1)),r&&i.emitChange(e))},setValue:function(e,t){e.value!=t&&(e.value=t,i.emitChange(e))},emitChange:function(e){e.dispatchEvent(new Event("change",{bubbles:!0}))}};n.ConvertForms=n.ConvertForms||[],n.ConvertForms.Helper=i}(window,document),function(c,l){"use strict";var n=function(a){var i={selector:a},s=c.ConvertForms.Helper,o=a.querySelector("form");i.getFormData=function(){var e=s.getFormData(o),t=[];if(a.querySelectorAll(".cf-control-group.cf-ignore").forEach(function(e){t.push(e.dataset.key)}),!t.length)return e;var r={ignore:t};return Object.keys(r).length&&e.set("overrides",JSON.stringify(r)),e},i.submit=function(){var e=i.emitEvent("beforeSubmit");e.defaultPrevented?e.detail.hasOwnProperty("error")&&i.throwError(e.detail.error):s.request({url:s.getBaseURL("task=submit"),headers:{"X-CSRF-Token":s.getCSRFToken()},data:i.getFormData(),onBefore:function(){a.classList.add("cf-working"),a.classList.add("cf-disabled"),a.classList.remove("cf-error"),a.classList.remove("cf-success"),a.querySelector(".cf-response").removeAttribute("role")},onSuccess:function(t,e){try{t=JSON.parse(t)}catch(e){var r=t.match('{"convertforms"(.*?)}$');if(null==r)return void i.throwError(i.text("INVALID_RESPONSE")+": "+t);t=JSON.parse(r[0])}if(t.success){i.emitEvent("success",{response:t,xhr:e});var n="formTask"+s.capitalize(t.task);if(!i.hasOwnProperty(n))return void i.throwError(i.text("INVALID_TASK")+": "+n);i[n].call(c,t),i.emitEvent("afterTask",{response:t,xhr:e,task:t.task})}else{i.emitEvent("error",{response:t,xhr:e}),i.throwError(t.error);var o=a.querySelector(".cf-fields .cf-input");o&&o.focus()}},onComplete:function(e){i.emitEvent("afterSubmit",{xhr:e}),a.classList.remove("cf-working","cf-disabled"),s.isInViewport(a)||a.scrollIntoView()},onError:function(e){i.throwError("Error: "+e)},onFail:function(e){i.throwError("Fail: "+e)}})},i.emitEvent=function(e,t,r){var n;if(e)return(t=t||{}).instance=i,(r=r||!0)&&(n="ConvertForms"+s.capitalize(e),s.emitEvent(n,l,t)),s.emitEvent(e,a,t)},i.formTaskMsg=function(e){a.classList.add("cf-success"),a.querySelector(".cf-response").innerHTML=e.value,"1"==e.resetform&&o.reset()},i.formTaskUrl=function(e){var t,r,n=e.value;"1"==e.passdata&&(t=s.getFormData(o),r=s.serializeFormData(t,!0),n+=(-1<e.value.indexOf("?")?"&":"?")+r),c.location.href=n},i.throwError=function(e){a.classList.add("cf-error");var t=a.querySelector(".cf-response");t.innerHTML=e,t.setAttribute("role","alert")},i.text=function(e){return ConvertForms.Helper.text("COM_CONVERTFORMS_"+e)};return a.classList.contains("cf-init")||(c.IntersectionObserver&&new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&(i.emitEvent("impression",{entry:e}),t.unobserve(e.target))})},{rootMargin:"0px 0px 0px 0px"}).observe(a),o.addEventListener("submit",function(e){e.preventDefault(),i.submit(e)}),a.classList.add("cf-init")),a.ConvertForms=i};c.ConvertForms=c.ConvertForms||[];var o=c.ConvertForms.Helper;function e(){for(var e=l.querySelectorAll(".convertforms"),t=0;t<e.length;t++){var r=e[t];n(r)}o.emitEvent("ConvertFormsInit",l,e)}o.onReady(function(){o.browserIsIE()?o.loadScript("https://polyfill.io/v3/polyfill.min.js?ua=Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; rv:11.0) like Gecko&features=String.prototype.includes%2CElement.prototype.closest%2CCustomEvent%2CNodeList.prototype.forEach%2CObject.values%2CString.prototype.startsWith%2CString.prototype.endsWith",function(){o.loadScript("https://cdn.jsdelivr.net/npm/formdata-polyfill@3.0.20/formdata.min.js",e)}):e()})}(window,document);
