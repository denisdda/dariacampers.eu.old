function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
FullCalendar Resources Common Plugin v4.4.2
Docs & License: https://fullcalendar.io/scheduler
(c) 2019 Adam Shaw
*/!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],t):t((e=e||self).FullCalendarResourceCommon={},e.FullCalendar)}(this,(function(e,t){"use strict";
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
    Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
/* global Reflect, Promise */var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function n(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};
/*
  HACK
  TODO: use EventUi system instead of this
  */
function i(e,t){var r=e.resourceEditable;if(null==r){var n=e.sourceId&&t.state.eventSources[e.sourceId];n&&(r=n.extendedProps.resourceEditable),null==r&&null==(r=t.opt("eventResourceEditable"))&&(r=t.opt("editable"))}return r}var s=
/** @class */
function(){function e(){this.filterResources=t.memoize(a)}return e.prototype.transform=function(e,t,r,n){if(t.class.needsResourceData)return{resourceStore:this.filterResources(r.resourceStore,n.filterResourcesWithEvents,r.eventStore,r.dateProfile.activeRange),resourceEntityExpansions:r.resourceEntityExpansions}},e}();function a(e,r,n,i){if(r){var s=function(e,t){var r={};for(var n in e)for(var o=0,i=t[e[n].defId].resourceIds;o<i.length;o++){r[i[o]]=!0}return r}
/*
  mark resources as having events if any of their ancestors have them
  NOTE: resourceStore might not have all the resources that hasEvents{} has keyed
  */(function(e,r){return t.filterHash(e,(function(e){return t.rangesIntersect(e.range,r)}))}(n.instances,i),n.defs);return o(s,function(e,t){var r={};for(var n in e)for(var o=void 0;(o=t[n])&&(n=o.parentId);)r[n]=!0;return r}// for when non-resource view should be given EventUi info (for event coloring/constraints based off of resource data)
(s,e)),t.filterHash(e,(function(e,t){return s[t]}))}return e}var l=
/** @class */
function(){function e(){this.buildResourceEventUis=t.memoizeOutput(c,t.isPropsEqual),this.injectResourceEventUis=t.memoize(u)}return e.prototype.transform=function(e,t,r){if(!t.class.needsResourceData)
// is a non-resource view?
return{eventUiBases:this.injectResourceEventUis(e.eventUiBases,e.eventStore.defs,this.buildResourceEventUis(r.resourceStore))}},e}();function c(e){return t.mapHash(e,(function(e){return e.ui}))}function u(e,r,n){return t.mapHash(e,(function(e,o){return o?function(e,r,n){// first resource takes precedence, which fights with the ordering of combineEventUis, thus the unshifts
for(var o=[],i=0,s=r.resourceIds;i<s.length;i++){var a=s[i];n[a]&&o.unshift(n[a])}return o.unshift(e),t.combineEventUis(o)}// for making sure events that have editable resources are always draggable in resource views
(e,r[o],n):e}))}var d={id:String},p=[],h=0;function f(e){p.push(e)}function y(e,r,n){var o=t.refineProps(e,d);return o.sourceId=String(h++),o.sourceDefId=n,o.meta=r,o.publicId=o.id,o.isFetching=!1,o.latestFetchId="",o.fetchRange=null,delete o.id,o}function v(e,r,n,i){switch(r.type){case"INIT":return g(i.opt("resources"),i);case"RESET_RESOURCE_SOURCE":return g(r.resourceSourceInput,i,!0);case"PREV":// TODO: how do we track all actions that affect dateProfile :(
case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return function(e,r,n){return!n.opt("refetchResourcesOnNavigate")||function(e){return Boolean(p[e.sourceDefId].ignoreRange)}(e)||e.fetchRange&&t.rangesEqual(e.fetchRange,r)?e:S(e,r,n)}(e,n.activeRange,i);case"RECEIVE_RESOURCES":case"RECEIVE_RESOURCE_ERROR":return function(e,t,r){if(t===e.latestFetchId)return o({},e,{isFetching:!1,fetchRange:r});return e}(e,r.fetchId,r.fetchRange);case"REFETCH_RESOURCES":return S(e,n.activeRange,i);default:return e}}var m=0;function g(e,t,r){if(e){var n=function(e){for(var t=p.length-1;t>=0;t--){
// later-added plugins take precedence
var r=p[t].parseMeta(e);if(r){var n=y("object"===_typeof(e)&&e?e:{},r,t);return n._raw=e,n}}return null}(e);return!r&&t.opt("refetchResourcesOnNavigate")||(
// because assumes handleRange will do it later
n=S(n,null,t)),n}return null}function S(e,t,r){var n,i=(n=e.sourceDefId,p[n]),s=String(m++);return i.fetch({resourceSource:e,calendar:r,range:t},(function(e){
// HACK
// do before calling dispatch in case dispatch renders synchronously
r.afterSizingTriggers._resourcesRendered=[null],// fire once
r.dispatch({type:"RECEIVE_RESOURCES",fetchId:s,fetchRange:t,rawResources:e.rawResources})}),(function(e){r.dispatch({type:"RECEIVE_RESOURCE_ERROR",fetchId:s,fetchRange:t,error:e})})),o({},e,{isFetching:!0,latestFetchId:s})}var b={id:String,title:String,parentId:String,businessHours:null,children:null,extendedProps:null},E="_fc:",R=0;
/*
  needs a full store so that it can populate children too
  */
function w(e,r,n,i){void 0===r&&(r="");var s={},a=t.refineProps(e,b,{},s),l={},c=t.processScopedUiProps("event",s,i,l);if(a.id||(a.id=E+R++),a.parentId||(
// give precedence to the parentId property
a.parentId=r),a.businessHours=a.businessHours?t.parseBusinessHours(a.businessHours,i):null,a.ui=c,a.extendedProps=o({},l,a.extendedProps),// help out ResourceApi from having user modify props
Object.freeze(c.classNames),Object.freeze(a.extendedProps),n[a.id]);else if(n[a.id]=a,a.children){for(var u=0,d=a.children;u<d.length;u++){w(d[u],a.id,n,i)}delete a.children}return a}
/*
  TODO: use this in more places
  */function C(e,r,n,i){switch(r.type){case"INIT":return{};case"RECEIVE_RESOURCES":return function(e,t,r,n,o){if(n.latestFetchId===r){for(var i={},s=0,a=t;s<a.length;s++){w(a[s],"",i,o)}return i}return e}(e,r.rawResources,r.fetchId,n,i);case"ADD_RESOURCE":return s=e,a=r.resourceHash,o({},s,a);case"REMOVE_RESOURCE":return function(e,t){var r=o({},e);// promote children
for(var n in delete r[t],r)
// a child, *maybe* but probably not
r[n].parentId===t&&(r[n]=o({},r[n],{parentId:""}));return r}(e,r.resourceId);case"SET_RESOURCE_PROP":return function(e,t,r,n){var i,s,a=e[t];// TODO: sanitization
return a?o({},e,((i={})[t]=o({},a,((s={})[r]=n,s)),i)):e}(e,r.resourceId,r.propName,r.propValue);case"RESET_RESOURCES":
// must make the calendar think each resource is a new object :/
return t.mapHash(e,(function(e){return o({},e)}));default:return e}var s,a}var D={resourceId:String,resourceIds:function(e){return(e||[]).map((function(e){return String(e)}))},resourceEditable:Boolean};var x=
/** @class */
function(){function e(e,t){this._calendar=e,this._resource=t}return e.prototype.setProp=function(e,t){this._calendar.dispatch({type:"SET_RESOURCE_PROP",resourceId:this._resource.id,propName:e,propValue:t})},e.prototype.remove=function(){this._calendar.dispatch({type:"REMOVE_RESOURCE",resourceId:this._resource.id})},e.prototype.getParent=function(){var t=this._calendar,r=this._resource.parentId;return r?new e(t,t.state.resourceSource[r]):null},e.prototype.getChildren=function(){var t=this._resource.id,r=this._calendar,n=r.state.resourceStore,o=[];for(var i in n)n[i].parentId===t&&o.push(new e(r,n[i]));return o},
/*
    this is really inefficient!
    TODO: make EventApi::resourceIds a hash or keep an index in the Calendar's state
    */
e.prototype.getEvents=function(){var e=this._resource.id,r=this._calendar,n=r.state.eventStore,o=n.defs,i=n.instances,s=[];for(var a in i){var l=i[a],c=o[l.defId];-1!==c.resourceIds.indexOf(e)&&
// inefficient!!!
s.push(new t.EventApi(r,c,l))}return s},Object.defineProperty(e.prototype,"id",{get:function(){return this._resource.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._resource.title},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventConstraint",{get:function(){return this._resource.ui.constraints[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventOverlap",{get:function(){return this._resource.ui.overlap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventAllow",{get:function(){return this._resource.ui.allows[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventBackgroundColor",{get:function(){return this._resource.ui.backgroundColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventBorderColor",{get:function(){return this._resource.ui.borderColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventTextColor",{get:function(){return this._resource.ui.textColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventClassNames",{
// NOTE: user can't modify these because Object.freeze was called in event-def parsing
get:function(){return this._resource.ui.classNames},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extendedProps",{get:function(){return this._resource.extendedProps},enumerable:!0,configurable:!0}),e}();t.Calendar.prototype.addResource=function(e,t){var r,n,o;return void 0===t&&(t=!0),e instanceof x?((r={})[(o=e._resource).id]=o,n=r):o=w(e,"",n={},this),// HACK
t&&this.component.view.addScroll({forcedRowId:o.id}),this.dispatch({type:"ADD_RESOURCE",resourceHash:n}),new x(this,o)},t.Calendar.prototype.getResourceById=function(e){if(e=String(e),this.state.resourceStore){
// guard against calendar with no resource functionality
var t=this.state.resourceStore[e];if(t)return new x(this,t)}return null},t.Calendar.prototype.getResources=function(){var e=this.state.resourceStore,t=[];if(e)
// guard against calendar with no resource functionality
for(var r in e)t.push(new x(this,e[r]));return t},t.Calendar.prototype.getTopLevelResources=function(){var e=this.state.resourceStore,t=[];if(e)
// guard against calendar with no resource functionality
for(var r in e)e[r].parentId||t.push(new x(this,e[r]));return t},t.Calendar.prototype.rerenderResources=function(){this.dispatch({type:"RESET_RESOURCES"})},t.Calendar.prototype.refetchResources=function(){this.dispatch({type:"REFETCH_RESOURCES"})};
/*
  splits things BASED OFF OF which resources they are associated with.
  creates a '' entry which is when something has NO resource.
  */
var T=
/** @class */
function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getKeyInfo=function(e){return o({"":{}},e.resourceStore)},t.prototype.getKeysForDateSpan=function(e){return[e.resourceId||""]},t.prototype.getKeysForEventDef=function(e){var t=e.resourceIds;return t.length?t:[""]},t}(t.Splitter);function I(e,t){return o({},t,{constraints:P(e,t.constraints)})}function P(e,t){return t.map((function(t){var r=t.defs;if(r)
// we are dealing with an EventStore
// if any of the events define constraints to resources that are NOT this resource,
// then this resource is unconditionally prohibited, which is what a `false` value does.
for(var n in r){var o=r[n].resourceIds;if(o.length&&-1===o.indexOf(e))
// TODO: use a hash?!!! (for other reasons too)
return!1}return t}))}t.EventApi.prototype.getResources=function(){var e=this._calendar;return this._def.resourceIds.map((function(t){return e.getResourceById(t)}))},t.EventApi.prototype.setResources=function(e){// massage resources -> resourceIds
for(var t=[],r=0,n=e;r<n.length;r++){var o=n[r],i=null;"string"==typeof o?i=o:"number"==typeof o?i=String(o):o instanceof x?i=o.id:console.warn("unknown resource type: "+o),i&&t.push(i)}this.mutate({standardProps:{resourceIds:t}})};var _="2020-05-28",H=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],A={position:"absolute","z-index":99999,bottom:"1px",left:"1px",background:"#eee","border-color":"#ddd","border-style":"solid","border-width":"1px 1px 0 0",padding:"2px 4px","font-size":"12px","border-top-right-radius":"3px"};// for Scheduler
var k={resources:function(e,t,r){var n=t.state.resourceSource._raw;r(n,e)||t.dispatch({type:"RESET_RESOURCE_SOURCE",resourceSourceInput:e})}};function z(e,t){return"function"==typeof e?function(r){return e(new x(t,r))}:function(e){return e.title||(0===(t=e.id).indexOf(E)?"":t);var t}}f({ignoreRange:!0,parseMeta:function(e){return Array.isArray(e)?e:Array.isArray(e.resources)?e.resources:null},fetch:function(e,t){t({rawResources:e.resourceSource.meta})}}),f({parseMeta:function(e){return"function"==typeof e?e:"function"==typeof e.resources?e.resources:null},fetch:function(e,r,n){var o=e.calendar.dateEnv,i=e.resourceSource.meta,s={};e.range&&(s={start:o.toDate(e.range.start),end:o.toDate(e.range.end),startStr:o.formatIso(e.range.start),endStr:o.formatIso(e.range.end),timeZone:o.timeZone}),// TODO: make more dry with EventSourceFunc
// TODO: accept a response?
t.unpromisify(i.bind(null,s),(function(e){r({rawResources:e});// needs an object response
}),n)}}),f({parseMeta:function(e){if("string"==typeof e)e={url:e};else if(!e||"object"!==_typeof(e)||!e.url)return null;return{url:e.url,method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams}},fetch:function(e,r,n){var i=e.resourceSource.meta,s=// TODO: somehow consolidate with event json feed
function(e,t,r){var n,i,s,a,l=r.dateEnv,c={};t&&(
// startParam = meta.startParam
// if (startParam == null) {
n=r.opt("startParam"),// }
// endParam = meta.endParam
// if (endParam == null) {
i=r.opt("endParam"),// }
// timeZoneParam = meta.timeZoneParam
// if (timeZoneParam == null) {
s=r.opt("timeZoneParam"),// }
c[n]=l.formatIso(t.start),c[i]=l.formatIso(t.end),"local"!==l.timeZone&&(c[s]=l.timeZone));// retrieve any outbound GET/POST data from the options
// supplied as a function that returns a key/value object
a="function"==typeof e.extraParams?e.extraParams():e.extraParams||{};return o(c,a),c}(i,e.range,e.calendar);t.requestJson(i.method,i.url,s,(function(e,t){r({rawResources:e,xhr:t})}),(function(e,t){n({message:e,xhr:t})}))}});var O=
/** @class */
function(e){function r(r){var n=e.call(this)||this;return n.processOptions=t.memoize(n._processOptions),n.parentEl=r,n}return n(r,e),r.prototype._processOptions=function(e,t){this.datesAboveResources=e.datesAboveResources,this.resourceTextFunc=z(e.resourceText,t)},r.prototype.render=function(e,r){var n,o=r.options,i=r.calendar,s=r.theme;this.processOptions(o,i),this.parentEl.innerHTML="",// because might be nbsp
this.parentEl.appendChild(this.el=t.htmlToElement('<div class="fc-row '+s.getClass("headerRow")+'"><table class="'+s.getClass("tableGrid")+'"><thead></thead></table></div>')),this.thead=this.el.querySelector("thead"),this.dateFormat=t.createFormatter(o.columnHeaderFormat||t.computeFallbackHeaderFormat(e.datesRepDistinctDays,e.dates.length)),n=1===e.dates.length?this.renderResourceRow(e.resources):this.datesAboveResources?this.renderDayAndResourceRows(e.dates,e.resources):this.renderResourceAndDayRows(e.resources,e.dates),this.thead.innerHTML=n,this.processResourceEls(e.resources)},r.prototype.destroy=function(){t.removeElement(this.el)},r.prototype.renderResourceRow=function(e){var t=this,r=e.map((function(e){return t.renderResourceCell(e,1)}));return this.buildTr(r)},r.prototype.renderDayAndResourceRows=function(e,t){for(var r=[],n=[],o=0,i=e;o<i.length;o++){var s=i[o];r.push(this.renderDateCell(s,t.length));for(var a=0,l=t;a<l.length;a++){var c=l[a];n.push(this.renderResourceCell(c,1,s))}}return this.buildTr(r)+this.buildTr(n)},r.prototype.renderResourceAndDayRows=function(e,t){for(var r=[],n=[],o=0,i=e;o<i.length;o++){var s=i[o];r.push(this.renderResourceCell(s,t.length));for(var a=0,l=t;a<l.length;a++){var c=l[a];n.push(this.renderDateCell(c,1,s))}}return this.buildTr(r)+this.buildTr(n)},// Cell Rendering Utils
// ----------------------------------------------------------------------------------------------
// a cell with the resource name. might be associated with a specific day
r.prototype.renderResourceCell=function(e,r,n){var o=this.context.dateEnv;return'<th class="fc-resource-cell" data-resource-id="'+e.id+'"'+(n?' data-date="'+o.formatIso(n,{omitTime:!0})+'"':"")+(r>1?' colspan="'+r+'"':"")+">"+t.htmlEscape(this.resourceTextFunc(e))+"</th>"},// a cell with date text. might have a resource associated with it
r.prototype.renderDateCell=function(e,r,n){var o=this.props;return t.renderDateCell(e,o.dateProfile,o.datesRepDistinctDays,o.dates.length*o.resources.length,this.dateFormat,this.context,r,n?'data-resource-id="'+n.id+'"':"")},r.prototype.buildTr=function(e){return e.length||(e=["<td>&nbsp;</td>"]),this.props.renderIntroHtml&&(e=[this.props.renderIntroHtml()].concat(e)),this.context.isRtl&&e.reverse(),"<tr>"+e.join("")+"</tr>"},// Post-rendering
// ----------------------------------------------------------------------------------------------
// given a container with already rendered resource cells
r.prototype.processResourceEls=function(e){var r=this.context,n=r.calendar,o=r.isRtl,i=r.view;t.findElements(this.thead,".fc-resource-cell").forEach((function(t,r){r%=e.length,o&&(r=e.length-1-r);var s=e[r];n.publiclyTrigger("resourceRender",[{resource:new x(n,s),el:t,view:i}])}))},r}(t.Component),M=
/** @class */
function(){function e(e,t){this.dayTable=e,this.resources=t,this.resourceIndex=new B(t),this.rowCnt=e.rowCnt,this.colCnt=e.colCnt*t.length,this.cells=this.buildCells()}return e.prototype.buildCells=function(){for(var e=this,t=e.rowCnt,r=e.dayTable,n=e.resources,o=[],i=0;i<t;i++){for(var s=[],a=0;a<r.colCnt;a++)for(var l=0;l<n.length;l++){var c=n[l],u='data-resource-id="'+c.id+'"';s[this.computeCol(a,l)]={date:r.cells[i][a].date,resource:c,htmlAttrs:u}}o.push(s)}return o},e}(),G=
/** @class */
function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.computeCol=function(e,t){return t*this.dayTable.colCnt+e},
/*
    all date ranges are intact
    */
t.prototype.computeColRanges=function(e,t,r){return[{firstCol:this.computeCol(e,r),lastCol:this.computeCol(t,r),isStart:!0,isEnd:!0}]},t}(M),L=
/** @class */
function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.computeCol=function(e,t){return e*this.resources.length+t},
/*
    every single day is broken up
    */
t.prototype.computeColRanges=function(e,t,r){for(var n=[],o=e;o<=t;o++){var i=this.computeCol(o,r);n.push({firstCol:i,lastCol:i,isStart:o===e,isEnd:o===t})}return n},t}(M),B=function(e){for(var t={},r=[],n=0;n<e.length;n++){var o=e[n].id;r.push(o),t[o]=n}this.ids=r,this.indicesById=t,this.length=e.length},N=
/** @class */
function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return n(r,e),r.prototype.getKeyInfo=function(e){var r=e.resourceDayTable,n=t.mapHash(r.resourceIndex.indicesById,(function(e){return r.resources[e];// has `ui` AND `businessHours` keys!
}));// :(
return n[""]={},n},r.prototype.getKeysForDateSpan=function(e){return[e.resourceId||""]},r.prototype.getKeysForEventDef=function(e){var t=e.resourceIds;return t.length?t:[""]},r}(t.Splitter),j=[],W=
/** @class */
function(){function e(){this.joinDateSelection=t.memoize(this.joinSegs),this.joinBusinessHours=t.memoize(this.joinSegs),this.joinFgEvents=t.memoize(this.joinSegs),this.joinBgEvents=t.memoize(this.joinSegs),this.joinEventDrags=t.memoize(this.joinInteractions),this.joinEventResizes=t.memoize(this.joinInteractions)}
/*
    propSets also has a '' key for things with no resource
    */return e.prototype.joinProps=function(e,t){// add in the all-resource key
for(var r=[],n=[],o=[],i=[],s=[],a=[],l="",c=0,u=t.resourceIndex.ids.concat([""]);c<u.length;c++){var d=u[c],p=e[d];r.push(p.dateSelectionSegs),n.push(d?p.businessHourSegs:j),// don't include redundant all-resource businesshours
o.push(d?p.fgEventSegs:j),// don't include fg all-resource segs
i.push(p.bgEventSegs),s.push(p.eventDrag),a.push(p.eventResize),l=l||p.eventSelection}return{dateSelectionSegs:this.joinDateSelection.apply(this,[t].concat(r)),businessHourSegs:this.joinBusinessHours.apply(this,[t].concat(n)),fgEventSegs:this.joinFgEvents.apply(this,[t].concat(o)),bgEventSegs:this.joinBgEvents.apply(this,[t].concat(i)),eventDrag:this.joinEventDrags.apply(this,[t].concat(s)),eventResize:this.joinEventResizes.apply(this,[t].concat(a)),eventSelection:l}},e.prototype.joinSegs=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=e.resources.length,o=[],i=0;i<n;i++){for(var s=0,a=t[i];s<a.length;s++){var l=a[s];o.push.apply(o,this.transformSeg(l,e,i))}for(var c=0,u=t[n];c<u.length;c++){
// one beyond. the all-resource
l=u[c];o.push.apply(// one beyond. the all-resource
o,this.transformSeg(l,e,i))}}return o},
/*
    for expanding non-resource segs to all resources.
    only for public use.
    no memoizing.
    */
e.prototype.expandSegs=function(e,t){for(var r=e.resources.length,n=[],o=0;o<r;o++)for(var i=0,s=t;i<s.length;i++){var a=s[i];n.push.apply(n,this.transformSeg(a,e,o))}return n},e.prototype.joinInteractions=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=e.resources.length,i={},s=[],a=!1,l=null,c=0;c<n;c++){var u=t[c];if(u){for(var d=0,p=u.segs;d<p.length;d++){var h=p[d];s.push.apply(s,this.transformSeg(h,e,c))}o(i,u.affectedInstances),a=a||u.isEvent,l=l||u.sourceSeg}if(t[n])
// one beyond. the all-resource
for(var f=0,y=t[n].segs;f<y.length;f++){h=y[f];s.push.apply(s,this.transformSeg(h,e,c))}}return{affectedInstances:i,segs:s,isEvent:a,sourceSeg:l}},e}();function F(e,t,r,n,o,i){var s=[];return q(function(e,t,r,n){var o=function(e,t){var r={};for(var n in e){var o=e[n];r[n]={resource:o,resourceFields:J(o),children:[]}}for(var n in e){if((o=e[n]).parentId){var i=r[o.parentId];i&&V(r[n],i.children,t)}}return r}(e,n),i=[];for(var s in o){var a=o[s];a.resource.parentId||U(a,i,r,0,t,n)}return i}(e,n?-1:1,t,r),s,n,[],0,o,i),s}function q(e,t,r,n,o,i,s){for(var a=0;a<e.length;a++){var l=e[a],c=l.group;if(c)if(r){var u=t.length,d=n.length;if(q(l.children,t,r,n.concat(0),o,i,s),u<t.length){var p=t[u];(p.rowSpans=p.rowSpans.slice())[d]=t.length-u}}else{var h=null!=i[f=c.spec.field+":"+c.value]?i[f]:s;t.push({id:f,group:c,isExpanded:h}),h&&q(l.children,t,r,n,o+1,i,s)}else if(l.resource){var f;h=null!=i[f=l.resource.id]?i[f]:s;t.push({id:f,rowSpans:n,depth:o,isExpanded:h,hasChildren:Boolean(l.children.length),resource:l.resource,resourceFields:l.resourceFields}),h&&q(l.children,t,r,n,o+1,i,s)}}}function U(e,r,n,o,i,s){n.length&&(-1===i||o<=i)?U(e,function(e,r,n){var o,i,s=e.resourceFields[n.field];// find an existing group that matches, or determine the position for a new group
if(n.order)for(i=0;i<r.length;i++){if((l=r[i]).group){var a=t.flexibleCompare(s,l.group.value)*n.order;if(0===a){o=l;break}if(a<0)break}}else
// the groups are unordered
for(i=0;i<r.length;i++){var l;if((l=r[i]).group&&s===l.group.value){o=l;break}}o||(o={group:{value:s,spec:n},children:[]},r.splice(i,0,o));return o}(e,r,n[0]).children,n.slice(1),o+1,i,s):V(e,r,s)}function V(e,r,n){var o;for(o=0;o<r.length;o++){if(t.compareByFieldSpecs(r[o].resourceFields,e.resourceFields,n)>0)
// went 1 past. insert at i
break}r.splice(o,0,e)}function J(e){var t=o({},e.extendedProps,e.ui,e);return delete t.ui,delete t.extendedProps,t}var X=t.createPlugin({reducers:[function(e,t,r){var n=v(e.resourceSource,t,e.dateProfile,r),i=C(e.resourceStore,t,n,r),s=function(e,t){var r;switch(t.type){case"INIT":return{};case"SET_RESOURCE_ENTITY_EXPANDED":return o({},e,((r={})[t.id]=t.isExpanded,r));default:return e}}(e.resourceEntityExpansions,t),a=e.loadingLevel+(n&&n.isFetching?1:0);return o({},e,{resourceSource:n,resourceStore:i,resourceEntityExpansions:s,loadingLevel:a})}],eventDefParsers:[function(e,r,n){var o=t.refineProps(r,D,{},n),i=o.resourceIds;o.resourceId&&i.push(o.resourceId),e.resourceIds=i,e.resourceEditable=o.resourceEditable}],isDraggableTransformers:[function(e,t,r,n){return!(e||!n.viewSpec.class.needsResourceData||!i(t,n.context.calendar))||e}],eventDragMutationMassagers:[function(e,t,r){var n=t.dateSpan.resourceId,o=r.dateSpan.resourceId;n&&o&&n!==o&&(e.resourceMutation={matchResourceId:n,setResourceId:o})}
/*
  TODO: all this would be much easier if we were using a hash!
  */],eventDefMutationAppliers:[function(e,t,r){var n=t.resourceMutation;if(n&&i(e,r)){var o=e.resourceIds.indexOf(n.matchResourceId);if(-1!==o){var s=e.resourceIds.slice();// copy
s.splice(o,1),// remove
-1===s.indexOf(n.setResourceId)&&
// not already in there
s.push(n.setResourceId),e.resourceIds=s}}}],dateSelectionTransformers:[function(e,t){var r=e.dateSpan.resourceId,n=t.dateSpan.resourceId;if(r&&n)return(!1!==e.component.allowAcrossResources||r===n)&&{resourceId:r}}],datePointTransforms:[function(e,t){return e.resourceId?{resource:t.getResourceById(e.resourceId)}:{}}],dateSpanTransforms:[function(e,t){return e.resourceId?{resource:t.getResourceById(e.resourceId)}:{}}],viewPropsTransformers:[s,l],isPropsValid:function(e,r){var n=(new T).splitProps(o({},e,{resourceStore:r.state.resourceStore}));for(var i in n){var s=n[i];// merge in event data from the non-resource segment
if(i&&n[""]&&(
// current segment is not the non-resource one, and there IS a non-resource one
s=o({},s,{eventStore:t.mergeEventStores(n[""].eventStore,s.eventStore),eventUiBases:o({},n[""].eventUiBases,s.eventUiBases)})),!t.isPropsValid(s,r,{resourceId:i},I.bind(null,i)))return!1}return!0},externalDefTransforms:[function(e){return e.resourceId?{resourceId:e.resourceId}:{}}],eventResizeJoinTransforms:[function(e,t){if(!1===e.component.allowAcrossResources&&e.dateSpan.resourceId!==t.dateSpan.resourceId)return!1}],viewContainerModifiers:[function(e,r){var n,o=r.opt("schedulerLicenseKey");n=window.location.href,/\w+\:\/\/fullcalendar\.io\/|\/examples\/[\w-]+\.html$/.test(n)||
/*
  This decryption is not meant to be bulletproof. Just a way to remind about an upgrade.
  */
function(e){if(-1!==H.indexOf(e))return!0;var r=(e||"").match(/^(\d+)\-fcs\-(\d+)$/);if(r&&10===r[1].length){var n=new Date(1e3*parseInt(r[2],10)),o=new Date(t.config.mockSchedulerReleaseDate||_);if(t.isValidDate(o))if(t.addDays(o,-372)<n)return!0}return!1}(o)||t.appendToElement(e,'<div class="fc-license-message" style="'+t.htmlEscape(t.cssToStr(A))+'">Please use a valid license key. <a href="http://fullcalendar.io/scheduler/license/">More Info</a></div>')}],eventDropTransformers:[function(e,t){var r=e.resourceMutation;return r?{oldResource:t.getResourceById(r.matchResourceId),newResource:t.getResourceById(r.setResourceId)}:{oldResource:null,newResource:null}}],optionChangeHandlers:k});e.AbstractResourceDayTable=M,e.DayResourceTable=L,e.ResourceApi=x,e.ResourceDayHeader=O,e.ResourceDayTable=G,e.ResourceSplitter=T,e.VResourceJoiner=W,e.VResourceSplitter=N,e.buildResourceFields=J,e.buildResourceTextFunc=z,e.buildRowNodes=F,e.default=X,e.flattenResources=
/*
  doesn't accept grouping
  */
function(e,t){return F(e,[],t,!1,{},!0).map((function(e){return e.resource}))},e.isGroupsEqual=function(e,t){return e.spec===t.spec&&e.value===t.value},Object.defineProperty(e,"__esModule",{value:!0})})),
/*!
FullCalendar Resource Day Grid Plugin v4.4.2
Docs & License: https://fullcalendar.io/scheduler
(c) 2019 Adam Shaw
*/
function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core"),require("@fullcalendar/resource-common"),require("@fullcalendar/daygrid")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core","@fullcalendar/resource-common","@fullcalendar/daygrid"],t):t((e=e||self).FullCalendarResourceDayGrid={},e.FullCalendar,e.FullCalendarResourceCommon,e.FullCalendarDayGrid)}(this,(function(e,t,r,n){"use strict";var o="default"in r?r.default:r,i="default"in n?n.default:n,s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function a(e,t){function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c=
/** @class */
function(e){function o(t){var n=e.call(this,t.el)||this;return n.splitter=new r.VResourceSplitter,n.slicers={},n.joiner=new u,n.dayGrid=t,n}return a(o,e),o.prototype.firstContext=function(e){e.calendar.registerInteractiveComponent(this,{el:this.dayGrid.el})},o.prototype.destroy=function(){e.prototype.destroy.call(this),this.context.calendar.unregisterInteractiveComponent(this)},o.prototype.render=function(e,r){var o=this,i=this.dayGrid,s=e.dateProfile,a=e.resourceDayTable,c=e.nextDayThreshold,u=this.splitter.splitProps(e);this.slicers=t.mapHash(u,(function(e,t){return o.slicers[t]||new n.DayGridSlicer})),i.receiveContext(r);// hack because sliceProps expects component to have context
var d=t.mapHash(this.slicers,(function(e,t){return e.sliceProps(u[t],s,c,r.calendar,i,a.dayTable)}));i.allowAcrossResources=1===a.dayTable.colCnt,i.receiveProps(l({},this.joiner.joinProps(d,a),{dateProfile:s,cells:a.cells,isRigid:e.isRigid}),r)},o.prototype.buildPositionCaches=function(){this.dayGrid.buildPositionCaches()},o.prototype.queryHit=function(e,t){var r=this.dayGrid.positionToHit(e,t);if(r)return{component:this.dayGrid,dateSpan:{range:r.dateSpan.range,allDay:r.dateSpan.allDay,resourceId:this.props.resourceDayTable.cells[r.row][r.col].resource.id},dayEl:r.dayEl,rect:{left:r.relativeRect.left,right:r.relativeRect.right,top:r.relativeRect.top,bottom:r.relativeRect.bottom},layer:0}},o}(t.DateComponent),u=
/** @class */
function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.transformSeg=function(e,t,r){return t.computeColRanges(e.firstCol,e.lastCol,r).map((function(t){return l({},e,t,{isStart:e.isStart&&t.isStart,isEnd:e.isEnd&&t.isEnd})}))},t}(r.VResourceJoiner),d=
/** @class */
function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.flattenResources=t.memoize(r.flattenResources),n.buildResourceDayTable=t.memoize(p),n}// for ResourceViewProps
return a(n,e),n.prototype._processOptions=function(r){e.prototype._processOptions.call(this,r),this.resourceOrderSpecs=t.parseFieldSpecs(r.resourceOrder)},n.prototype.render=function(t,r){e.prototype.render.call(this,t,r);// for flags for updateSize. also _renderSkeleton/_unrenderSkeleton
var n=r.options,o=r.nextDayThreshold,i=this.flattenResources(t.resourceStore,this.resourceOrderSpecs),s=this.buildResourceDayTable(t.dateProfile,t.dateProfileGenerator,i,n.datesAboveResources);this.header&&this.header.receiveProps({resources:i,dates:s.dayTable.headerDates,dateProfile:t.dateProfile,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml},r),this.resourceDayGrid.receiveProps({dateProfile:t.dateProfile,resourceDayTable:s,businessHours:t.businessHours,eventStore:t.eventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isRigid:this.hasRigidRows(),nextDayThreshold:o},r)},n.prototype._renderSkeleton=function(t){e.prototype._renderSkeleton.call(this,t),t.options.columnHeader&&(this.header=new r.ResourceDayHeader(this.el.querySelector(".fc-head-container"))),this.resourceDayGrid=new c(this.dayGrid)},n.prototype._unrenderSkeleton=function(){e.prototype._unrenderSkeleton.call(this),this.header&&this.header.destroy(),this.resourceDayGrid.destroy()},n.needsResourceData=!0,n}(n.AbstractDayGridView);function p(e,t,o,i){var s=n.buildBasicDayTable(e,t);return i?new r.DayResourceTable(s,o):new r.ResourceDayTable(s,o)}var h=t.createPlugin({deps:[o,i],defaultView:"resourceDayGridDay",views:{resourceDayGrid:d,resourceDayGridDay:{type:"resourceDayGrid",duration:{days:1}},resourceDayGridWeek:{type:"resourceDayGrid",duration:{weeks:1}},resourceDayGridMonth:{type:"resourceDayGrid",duration:{months:1},
// TODO: wish we didn't have to C&P from dayGrid's file
monthMode:!0,fixedWeekCount:!0}}});e.ResourceDayGrid=c,e.ResourceDayGridView=d,e.default=h,Object.defineProperty(e,"__esModule",{value:!0})})),
/*!
FullCalendar Resource Time Grid Plugin v4.4.2
Docs & License: https://fullcalendar.io/scheduler
(c) 2019 Adam Shaw
*/
function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core"),require("@fullcalendar/resource-common"),require("@fullcalendar/timegrid"),require("@fullcalendar/resource-daygrid")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core","@fullcalendar/resource-common","@fullcalendar/timegrid","@fullcalendar/resource-daygrid"],t):t((e=e||self).FullCalendarResourceTimeGrid={},e.FullCalendar,e.FullCalendarResourceCommon,e.FullCalendarTimeGrid,e.FullCalendarResourceDayGrid)}(this,(function(e,t,r,n,o){"use strict";var i="default"in r?r.default:r,s="default"in n?n.default:n,a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function l(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=
/** @class */
function(e){function o(o){var i=e.call(this,o.el)||this;return i.buildDayRanges=t.memoize(n.buildDayRanges),i.splitter=new r.VResourceSplitter,i.slicers={},i.joiner=new d,i.timeGrid=o,i}return l(o,e),o.prototype.firstContext=function(e){e.calendar.registerInteractiveComponent(this,{el:this.timeGrid.el})},o.prototype.destroy=function(){this.context.calendar.unregisterInteractiveComponent(this)},o.prototype.render=function(e,r){var o=this,i=this.timeGrid,s=r.dateEnv,a=e.dateProfile,l=e.resourceDayTable,u=this.dayRanges=this.buildDayRanges(l.dayTable,a,s),d=this.splitter.splitProps(e);this.slicers=t.mapHash(d,(function(e,t){return o.slicers[t]||new n.TimeGridSlicer})),i.receiveContext(r);// hack because sliceProps expects component to have context
var p=t.mapHash(this.slicers,(function(e,t){return e.sliceProps(d[t],a,null,r.calendar,i,u)}));i.allowAcrossResources=1===u.length,i.receiveProps(c({},this.joiner.joinProps(p,l),{dateProfile:a,cells:l.cells[0]}),r)},o.prototype.renderNowIndicator=function(e){var t=this.timeGrid,r=this.props.resourceDayTable,n=this.slicers[""].sliceNowDate(e,t,this.dayRanges),o=this.joiner.expandSegs(r,n);t.renderNowIndicator(o,e)},o.prototype.buildPositionCaches=function(){this.timeGrid.buildPositionCaches()},o.prototype.queryHit=function(e,t){var r=this.timeGrid.positionToHit(e,t);if(r)return{component:this.timeGrid,dateSpan:{range:r.dateSpan.range,allDay:r.dateSpan.allDay,resourceId:this.props.resourceDayTable.cells[0][r.col].resource.id},dayEl:r.dayEl,rect:{left:r.relativeRect.left,right:r.relativeRect.right,top:r.relativeRect.top,bottom:r.relativeRect.bottom},layer:0}},o}(t.DateComponent),d=
/** @class */
function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.transformSeg=function(e,t,r){return[c({},e,{col:t.computeCol(e.col,r)})]},t}(r.VResourceJoiner),p=
/** @class */
function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.processOptions=t.memoize(n._processOptions),n.flattenResources=t.memoize(r.flattenResources),n.buildResourceDayTable=t.memoize(h),n}// for ResourceViewProps
return l(n,e),n.prototype._processOptions=function(e){this.resourceOrderSpecs=t.parseFieldSpecs(e.resourceOrder)},n.prototype.render=function(t,r){e.prototype.render.call(this,t,r);// for flags for updateSize. and will call _renderSkeleton/_unrenderSkeleton
var n=r.options,o=r.nextDayThreshold;this.processOptions(n);var i=this.splitter.splitProps(t),s=this.flattenResources(t.resourceStore,this.resourceOrderSpecs),a=this.buildResourceDayTable(t.dateProfile,t.dateProfileGenerator,s,n.datesAboveResources);this.header&&this.header.receiveProps({resources:s,dates:a.dayTable.headerDates,dateProfile:t.dateProfile,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml},r),this.resourceTimeGrid.receiveProps(c({},i.timed,{dateProfile:t.dateProfile,resourceDayTable:a}),r),this.resourceDayGrid&&this.resourceDayGrid.receiveProps(c({},i.allDay,{dateProfile:t.dateProfile,resourceDayTable:a,isRigid:!1,nextDayThreshold:o}),r),this.startNowIndicator(t.dateProfile,t.dateProfileGenerator)},n.prototype._renderSkeleton=function(t){e.prototype._renderSkeleton.call(this,t),t.options.columnHeader&&(this.header=new r.ResourceDayHeader(this.el.querySelector(".fc-head-container"))),this.resourceTimeGrid=new u(this.timeGrid),this.dayGrid&&(this.resourceDayGrid=new o.ResourceDayGrid(this.dayGrid))},n.prototype._unrenderSkeleton=function(){e.prototype._unrenderSkeleton.call(this),this.header&&this.header.destroy(),this.resourceTimeGrid.destroy(),this.resourceDayGrid&&this.resourceDayGrid.destroy()},n.prototype.renderNowIndicator=function(e){this.resourceTimeGrid.renderNowIndicator(e)},n.needsResourceData=!0,n}(n.AbstractTimeGridView);function h(e,t,o,i){var s=n.buildDayTable(e,t);return i?new r.DayResourceTable(s,o):new r.ResourceDayTable(s,o)}var f=t.createPlugin({deps:[i,s],defaultView:"resourceTimeGridDay",views:{resourceTimeGrid:{class:p,
// TODO: wish we didn't have to C&P from timeGrid's file
allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},resourceTimeGridDay:{type:"resourceTimeGrid",duration:{days:1}},resourceTimeGridWeek:{type:"resourceTimeGrid",duration:{weeks:1}}}});e.ResourceTimeGrid=u,e.ResourceTimeGridView=p,e.default=f,Object.defineProperty(e,"__esModule",{value:!0})})),
/*!
FullCalendar Timeline Plugin v4.4.2
Docs & License: https://fullcalendar.io/scheduler
(c) 2019 Adam Shaw
*/
function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],t):t((e=e||self).FullCalendarTimeline={},e.FullCalendar)}(this,(function(e,t){"use strict";
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
    Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
/* global Reflect, Promise */var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function n(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o,i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=
/** @class */
function(){function e(){this.gutters={},this.el=t.htmlToElement('<div class="fc-scroller-canvas"> <div class="fc-content"></div> <div class="fc-bg"></div> </div>'),this.contentEl=this.el.querySelector(".fc-content"),this.bgEl=this.el.querySelector(".fc-bg")}
/*
    If falsy, resets all the gutters to 0
    */return e.prototype.setGutters=function(e){e?i(this.gutters,e):this.gutters={},this.updateSize()},e.prototype.setWidth=function(e){this.width=e,this.updateSize()},e.prototype.setMinWidth=function(e){this.minWidth=e,this.updateSize()},e.prototype.clearWidth=function(){this.width=null,this.minWidth=null,this.updateSize()},e.prototype.updateSize=function(){var e=this.gutters,r=this.el;// is border-box (width includes padding)
t.forceClassName(r,"fc-gutter-left",e.left),t.forceClassName(r,"fc-gutter-right",e.right),t.forceClassName(r,"fc-gutter-top",e.top),t.forceClassName(r,"fc-gutter-bottom",e.bottom),t.applyStyle(r,{paddingLeft:e.left||"",paddingRight:e.right||"",paddingTop:e.top||"",paddingBottom:e.bottom||"",width:null!=this.width?this.width+(e.left||0)+(e.right||0):"",minWidth:null!=this.minWidth?this.minWidth+(e.left||0)+(e.right||0):""}),t.applyStyle(this.bgEl,{left:e.left||"",right:e.right||"",top:e.top||"",bottom:e.bottom||""})},e}(),a=
/** @class */
function(e){function r(r,n){var o=e.call(this,r,n)||this;// Scroll Events
// ----------------------------------------------------------------------------------------------
return o.reportScroll=function(){o.isScrolling||o.reportScrollStart(),o.trigger("scroll"),o.isMoving=!0,o.requestMovingEnd()},o.reportScrollStart=function(){o.isScrolling||(o.isScrolling=!0,o.trigger("scrollStart",o.isTouching))},// Touch Events
// ----------------------------------------------------------------------------------------------
// will fire *before* the scroll event is fired
o.reportTouchStart=function(){o.isTouching=!0},o.reportTouchEnd=function(){o.isTouching&&(o.isTouching=!1,// if touch scrolling was re-enabled during a recent touch scroll
// then unbind the handlers that are preventing it from happening.
o.isTouchScrollEnabled&&o.unbindPreventTouchScroll(),// if the user ended their touch, and the scroll area wasn't moving,
// we consider this to be the end of the scroll.
o.isMoving||o.reportScrollEnd())},o.isScrolling=!1,o.isTouching=!1,o.isMoving=!1,o.isTouchScrollEnabled=!0,o.requestMovingEnd=t.debounce(o.reportMovingEnd,500),o.canvas=new s,o.el.appendChild(o.canvas.el),o.applyOverflow(),o.bindHandlers(),o}return n(r,e),r.prototype.destroy=function(){e.prototype.destroy.call(this),this.unbindHandlers()},// Touch scroll prevention
// ----------------------------------------------------------------------------------------------
r.prototype.disableTouchScroll=function(){this.isTouchScrollEnabled=!1,this.bindPreventTouchScroll()},r.prototype.enableTouchScroll=function(){this.isTouchScrollEnabled=!0,// only immediately unbind if a touch event is NOT in progress.
// otherwise, it will be handled by reportTouchEnd.
this.isTouching||this.unbindPreventTouchScroll()},r.prototype.bindPreventTouchScroll=function(){this.preventTouchScrollHandler||this.el.addEventListener("touchmove",this.preventTouchScrollHandler=t.preventDefault)},r.prototype.unbindPreventTouchScroll=function(){this.preventTouchScrollHandler&&(this.el.removeEventListener("touchmove",this.preventTouchScrollHandler),this.preventTouchScrollHandler=null)},// Handlers
// ----------------------------------------------------------------------------------------------
r.prototype.bindHandlers=function(){this.el.addEventListener("scroll",this.reportScroll),this.el.addEventListener("touchstart",this.reportTouchStart,{passive:!0}),this.el.addEventListener("touchend",this.reportTouchEnd)},r.prototype.unbindHandlers=function(){this.el.removeEventListener("scroll",this.reportScroll),this.el.removeEventListener("touchstart",this.reportTouchStart,{passive:!0}),this.el.removeEventListener("touchend",this.reportTouchEnd)},r.prototype.reportMovingEnd=function(){this.isMoving=!1,// only end the scroll if not currently touching.
// if touching, the scrolling will end later, on touchend.
this.isTouching||this.reportScrollEnd()},r.prototype.reportScrollEnd=function(){this.isScrolling&&(this.trigger("scrollEnd"),this.isScrolling=!1)},// Horizontal Scroll Normalization
// ----------------------------------------------------------------------------------------------
// http://stackoverflow.com/questions/24276619/better-way-to-get-the-viewport-of-a-scrollable-div-in-rtl-mode/24394376#24394376
// TODO: move all this to util functions
/*
    If RTL, and scrolled to the left, returns NEGATIVE value (like Firefox)
    */
r.prototype.getScrollLeft=function(){var e=this.el,t=window.getComputedStyle(e).direction,r=e.scrollLeft;if("rtl"===t)switch(l()){case"positive":r=r+e.clientWidth-e.scrollWidth;break;case"reverse":r=-r}return r},
/*
    Accepts a NEGATIVE value for when scrolled in RTL
    */
r.prototype.setScrollLeft=function(e){var t=this.el;if("rtl"===window.getComputedStyle(t).direction)switch(l()){case"positive":e=e-t.clientWidth+t.scrollWidth;break;case"reverse":e=-e}t.scrollLeft=e},
/*
    Always returns the number of pixels scrolled from the leftmost position (even if RTL).
    Always positive.
    */
r.prototype.getScrollFromLeft=function(){var e=this.el,t=window.getComputedStyle(e).direction,r=e.scrollLeft;if("rtl"===t)switch(l()){case"negative":r=r-e.clientWidth+e.scrollWidth;break;case"reverse":r=-r-e.clientWidth+e.scrollWidth}return r},r}(t.ScrollComponent);
/*
  A rectangular area of content that lives within a Scroller.
  Can have "gutters", areas of dead spacing around the perimeter.
  Also very useful for forcing a width, which a Scroller cannot do alone.
  Has a content area that lives above a background area.
  */function l(){return o||(o=function(){var e,r=t.htmlToElement('<div style=" position: absolute; top: -1000px; width: 1px; height: 1px; overflow: scroll; direction: rtl; font-size: 100px; ">A</div>');document.body.appendChild(r),r.scrollLeft>0?e="positive":(r.scrollLeft=1,e=r.scrollLeft>0?"reverse":"negative");return t.removeElement(r),e}
/*
  A Scroller, but with a wrapping div that allows "clipping" away of native scrollbars,
  giving the appearance that there are no scrollbars.
  */())}t.EmitterMixin.mixInto(a);var c=
/** @class */
function(){
/*
    Received overflows can be set to 'clipped', meaning scrollbars shouldn't be visible
    to the user, but the area should still scroll.
    */
function e(e,r,n){this.isHScrollbarsClipped=!1,this.isVScrollbarsClipped=!1,"clipped-scroll"===e&&(e="scroll",this.isHScrollbarsClipped=!0),"clipped-scroll"===r&&(r="scroll",this.isVScrollbarsClipped=!0),this.enhancedScroll=new a(e,r),n.appendChild(this.el=t.createElement("div",{className:"fc-scroller-clip"})),this.el.appendChild(this.enhancedScroll.el)}return e.prototype.destroy=function(){t.removeElement(this.el)},e.prototype.updateSize=function(){var e=this.enhancedScroll,r=e.el,n=t.computeEdges(r),o={marginLeft:0,marginRight:0,marginTop:0,marginBottom:0};// give the inner scrolling div negative margins so that its scrollbars
// are nudged outside of the bounding box of the wrapper, which is overflow:hidden
this.isVScrollbarsClipped&&(o.marginLeft=-n.scrollbarLeft,o.marginRight=-n.scrollbarRight),this.isHScrollbarsClipped&&(o.marginBottom=-n.scrollbarBottom),t.applyStyle(r,o),// if we are attempting to hide the scrollbars offscreen, OSX/iOS will still
// display the floating scrollbars. attach a className to force-hide them.
!this.isHScrollbarsClipped&&"hidden"!==e.overflowX||// should never show?
!this.isVScrollbarsClipped&&"hidden"!==e.overflowY||// doesn't have any scrollbar mass
n.scrollbarLeft||n.scrollbarRight||n.scrollbarBottom?r.classList.remove("fc-no-scrollbars"):r.classList.add("fc-no-scrollbars")},e.prototype.setHeight=function(e){this.enhancedScroll.setHeight(e)},
/*
    Accounts for 'clipped' scrollbars
    */
e.prototype.getScrollbarWidths=function(){var e=this.enhancedScroll.getScrollbarWidths();return this.isVScrollbarsClipped&&(e.left=0,e.right=0),this.isHScrollbarsClipped&&(e.bottom=0),e},e}(),u=
/** @class */
function(){function e(e,t){this.axis=e,this.scrollers=t;for(var r=0,n=this.scrollers;r<n.length;r++){var o=n[r];this.initScroller(o)}}return e.prototype.initScroller=function(e){var t=this,r=e.enhancedScroll,n=function(){t.assignMasterScroller(e)};"wheel mousewheel DomMouseScroll MozMousePixelScroll".split(" ").forEach((function(e){r.el.addEventListener(e,n)})),r.on("scrollStart",(function(){t.masterScroller||t.assignMasterScroller(e)})).on("scroll",(function(){if(e===t.masterScroller)for(var n=0,o=t.scrollers;n<o.length;n++){var i=o[n];if(i!==e)switch(t.axis){case"horizontal":i.enhancedScroll.el.scrollLeft=r.el.scrollLeft;break;case"vertical":i.enhancedScroll.setScrollTop(r.getScrollTop())}}})).on("scrollEnd",(function(){e===t.masterScroller&&t.unassignMasterScroller()}))},e.prototype.assignMasterScroller=function(e){this.unassignMasterScroller(),this.masterScroller=e;for(var t=0,r=this.scrollers;t<r.length;t++){var n=r[t];n!==e&&n.enhancedScroll.disableTouchScroll()}},e.prototype.unassignMasterScroller=function(){if(this.masterScroller){for(var e=0,t=this.scrollers;e<t.length;e++){t[e].enhancedScroll.enableTouchScroll()}this.masterScroller=null}},e.prototype.update=function(){for(var e,t,r=this.scrollers.map((function(e){return e.getScrollbarWidths()})),n=0,o=0,i=0,s=0,a=0,l=r;a<l.length;a++)e=l[a],n=Math.max(n,e.left),o=Math.max(o,e.right),i=Math.max(i,e.top),s=Math.max(s,e.bottom);for(t=0;t<this.scrollers.length;t++){var c=this.scrollers[t];e=r[t],c.enhancedScroll.canvas.setGutters("horizontal"===this.axis?{left:n-e.left,right:o-e.right}:{top:i-e.top,bottom:s-e.bottom})}},e}(),d=
/** @class */
function(){
/*
    verticalScroll = 'auto' | 'clipped-scroll'
    */
function e(e,t,r){this.headerScroller=new c("clipped-scroll","hidden",e),this.bodyScroller=new c("auto",r,t),this.scrollJoiner=new u("horizontal",[this.headerScroller,this.bodyScroller])}return e.prototype.destroy=function(){this.headerScroller.destroy(),this.bodyScroller.destroy()},e.prototype.setHeight=function(e,t){var r;r=t?"auto":e-this.queryHeadHeight(),this.bodyScroller.setHeight(r),this.headerScroller.updateSize(),// adjusts gutters and classNames
this.bodyScroller.updateSize(),// adjusts gutters and classNames
this.scrollJoiner.update()},e.prototype.queryHeadHeight=function(){return this.headerScroller.enhancedScroll.canvas.contentEl.getBoundingClientRect().height},e}(),p=
/** @class */
function(e){function r(t){var r=e.call(this)||this;return r.parentEl=t,r}return n(r,e),r.prototype.firstContext=function(e){this.parentEl.appendChild(this.tableEl=t.createElement("table",{className:e.theme.getClass("tableGrid")}))},r.prototype.destroy=function(){t.removeElement(this.tableEl),e.prototype.destroy.call(this)},r.prototype.render=function(e){this.renderDates(e.tDateProfile)},r.prototype.renderDates=function(e){// needs to be a col for each body slat. header cells will have colspans
for(var r=this.context,n=r.dateEnv,o=r.theme,i=e.cellRows,s=i[i.length-1],a=t.asRoughMs(e.labelInterval)>t.asRoughMs(e.slotDuration),l=t.isSingleDay(e.slotDuration),c="<colgroup>",u=e.slotCnt-1;u>=0;u--)c+="<col/>";c+="</colgroup>",c+="<tbody>";for(var d=0,p=i;d<p.length;d++){var h=p[d];c+="<tr"+(a&&h===s?' class="fc-chrono"':"")+">";for(var f=0,y=h;f<y.length;f++){var v=y[f],m=[o.getClass("widgetHeader")];v.isWeekStart&&m.push("fc-em-cell"),l&&(m=m.concat(t.getDayClasses(v.date,this.props.dateProfile,this.context,!0))),c+='<th class="'+m.join(" ")+'" data-date="'+n.formatIso(v.date,{omitTime:!e.isTimeScale,omitTimeZoneOffset:!0})+'"'+(v.colspan>1?' colspan="'+v.colspan+'"':"")+'><div class="fc-cell-content">'+v.spanHtml+"</div></th>"}c+="</tr>"}c+="</tbody>",this.tableEl.innerHTML=c,// TODO: does this work cross-browser?
this.slatColEls=t.findElements(this.tableEl,"col"),this.innerEls=t.findElements(this.tableEl.querySelector("tr:last-child"),// compound selector won't work because of query-root problem
"th .fc-cell-text"),t.findElements(this.tableEl.querySelectorAll("tr:not(:last-child)"),// compound selector won't work because of query-root problem
"th .fc-cell-text").forEach((function(e){e.classList.add("fc-sticky")}))},r}(t.Component),h=
/** @class */
function(e){function r(r){var n=e.call(this)||this;return r.appendChild(n.el=t.createElement("div",{className:"fc-slats"})),n}return n(r,e),r.prototype.destroy=function(){t.removeElement(this.el),e.prototype.destroy.call(this)},r.prototype.render=function(e){this.renderDates(e.tDateProfile)},r.prototype.renderDates=function(e){for(var r=this.context,n=r.calendar,o=r.view,i=r.theme,s=r.dateEnv,a=e.slotDates,l=e.isWeekStarts,c='<table class="'+i.getClass("tableGrid")+'"><colgroup>',u=0;u<a.length;u++)c+="<col/>";c+="</colgroup>",c+="<tbody><tr>";for(u=0;u<a.length;u++)c+=this.slatCellHtml(a[u],l[u],e);c+="</tr></tbody></table>",this.el.innerHTML=c,this.slatColEls=t.findElements(this.el,"col"),this.slatEls=t.findElements(this.el,"td");for(u=0;u<a.length;u++)n.publiclyTrigger("dayRender",[{date:s.toDate(a[u]),el:this.slatEls[u],view:o}]);this.outerCoordCache=new t.PositionCache(this.el,this.slatEls,!0,// isHorizontal
!1),// for the inner divs within the slats
// used for event rendering and scrollTime, to disregard slat border
this.innerCoordCache=new t.PositionCache(this.el,t.findChildren(this.slatEls,"div"),!0,// isHorizontal
!1)},r.prototype.slatCellHtml=function(e,r,n){var o,i=this.context,s=i.theme,a=i.dateEnv;return n.isTimeScale?(o=[]).push(t.isInt(a.countDurationsBetween(n.normalizedRange.start,e,n.labelInterval))?"fc-major":"fc-minor"):(o=t.getDayClasses(e,this.props.dateProfile,this.context)).push("fc-day"),o.unshift(s.getClass("widgetContent")),r&&o.push("fc-em-cell"),'<td class="'+o.join(" ")+'" data-date="'+a.formatIso(e,{omitTime:!n.isTimeScale,omitTimeZoneOffset:!0})+'"><div></div></td>'},r.prototype.updateSize=function(){this.outerCoordCache.build(),this.innerCoordCache.build()},r.prototype.positionToHit=function(e){var r=this.outerCoordCache,n=this.context,o=n.dateEnv,i=n.isRtl,s=this.props.tDateProfile,a=r.leftToIndex(e);if(null!=a){
// somewhat similar to what TimeGrid does. consolidate?
var l=r.getWidth(a),c=i?(r.rights[a]-e)/l:(e-r.lefts[a])/l,u=Math.floor(c*s.snapsPerSlot),d=o.add(s.slotDates[a],t.multiplyDuration(s.snapDuration,u));return{dateSpan:{range:{start:d,end:o.add(d,s.snapDuration)},allDay:!this.props.tDateProfile.isTimeScale},dayEl:this.slatColEls[a],left:r.lefts[a],right:r.rights[a]}}return null},r}(t.Component);// allows 4-days to have a :30 slot duration
t.config.MAX_TIMELINE_SLOTS=1e3;// potential nice values for slot-duration and interval-duration
var f=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}];function y(e,r,n,o){var i={labelInterval:g(n,"slotLabelInterval"),slotDuration:g(n,"slotDuration")};!function(e,r,n){var o=r.currentRange;// make sure labelInterval doesn't exceed the max number of cells
if(e.labelInterval){n.countDurationsBetween(o.start,o.end,e.labelInterval)>t.config.MAX_TIMELINE_SLOTS&&(console.warn("slotLabelInterval results in too many cells"),e.labelInterval=null)}// make sure slotDuration doesn't exceed the maximum number of cells
if(e.slotDuration){n.countDurationsBetween(o.start,o.end,e.slotDuration)>t.config.MAX_TIMELINE_SLOTS&&(console.warn("slotDuration results in too many cells"),e.slotDuration=null)}// make sure labelInterval is a multiple of slotDuration
if(e.labelInterval&&e.slotDuration){var i=t.wholeDivideDurations(e.labelInterval,e.slotDuration);(null===i||i<1)&&(console.warn("slotLabelInterval must be a multiple of slotDuration"),e.slotDuration=null)}}(i,e,r),// validate after computed grid duration
S(i,e,r),function(e,r,n){var o=r.currentRange,i=e.slotDuration;if(!i){// will compute if necessary
// compute based off the label interval
// find the largest slot duration that is different from labelInterval, but still acceptable
for(var s=S(e,r,n),a=0,l=f;a<l.length;a++){var c=l[a],u=t.createDuration(c),d=t.wholeDivideDurations(s,u);if(null!==d&&d>1&&d<=6){i=u;break}}// only allow the value if it won't exceed the view's # of slots limit
if(i)n.countDurationsBetween(o.start,o.end,i)>200&&(i=null);// use the label interval as a last resort
i||(i=s),e.slotDuration=i}}(i,e,r);var s=n.slotLabelFormat,a=Array.isArray(s)?s:null!=s?[s]:function(e,r,n,o){var i,s,a=e.labelInterval,l=t.greatestDurationDenominator(a).unit,c=o.weekNumbers,u=i=s=null;// NOTE: weekNumber computation function wont work
"week"!==l||c||(l="day");switch(l){case"year":u={year:"numeric"};// '2015'
break;case"month":b("years",r,n)>1&&(u={year:"numeric"}),i={month:"short"};// 'Jan'
break;case"week":b("years",r,n)>1&&(u={year:"numeric"}),i={week:"narrow"};// 'Wk4'
break;case"day":b("years",r,n)>1?u={year:"numeric",month:"long"}:b("months",r,n)>1&&(u={month:"long"}),c&&(i={week:"short"}),s={weekday:"narrow",day:"numeric"};// 'Su 9'
break;case"hour":c&&(u={week:"short"}),b("days",r,n)>1&&(i={weekday:"short",day:"numeric",month:"numeric",omitCommas:!0}),s={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"};break;case"minute":
// sufficiently large number of different minute cells?
t.asRoughMinutes(a)/60>=6?(u={hour:"numeric",meridiem:"short"},i=function(e){return":"+t.padStart(e.date.minute,2);// ':30'
}):u={hour:"numeric",minute:"numeric",meridiem:"short"};break;case"second":
// sufficiently large number of different second cells?
t.asRoughSeconds(a)/60>=6?(u={hour:"numeric",minute:"2-digit",meridiem:"lowercase"},// '8:30 PM'
i=function(e){return":"+t.padStart(e.date.second,2);// ':30'
}):u={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"};break;case"millisecond":u={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"},// '8:30:45 PM'
i=function(e){return"."+t.padStart(e.millisecond,3)}}return[].concat(u||[],i||[],s||[])}// Compute the number of the give units in the "current" range.
// Won't go more precise than days.
// Will return `0` if there's not a clean whole interval.
(i,e,r,n);i.headerFormats=a.map((function(e){return t.createFormatter(e)})),i.isTimeScale=Boolean(i.slotDuration.milliseconds);var l=null;if(!i.isTimeScale){var c=t.greatestDurationDenominator(i.slotDuration).unit;/year|month|week/.test(c)&&(l=c)}i.largeUnit=l,i.emphasizeWeeks=t.isSingleDay(i.slotDuration)&&b("weeks",e,r)>=2&&!n.businessHours;
/*
    console.log('label interval =', timelineView.labelInterval.humanize())
    console.log('slot duration =', timelineView.slotDuration.humanize())
    console.log('header formats =', timelineView.headerFormats)
    console.log('isTimeScale', timelineView.isTimeScale)
    console.log('largeUnit', timelineView.largeUnit)
    */
var u,d,p=n.snapDuration;p&&(u=t.createDuration(p),d=t.wholeDivideDurations(i.slotDuration,u)),null==d&&(u=i.slotDuration,d=1),i.snapDuration=u,i.snapsPerSlot=d;// more...
var h=t.asRoughMs(e.maxTime)-t.asRoughMs(e.minTime),y=v(e.renderRange.start,i,r),R=v(e.renderRange.end,i,r);// TODO: why not use normalizeRange!?
// apply minTime/maxTime
// TODO: View should be responsible.
i.isTimeScale&&(y=r.add(y,e.minTime),R=r.add(t.addDays(R,-1),e.maxTime)),i.timeWindowMs=h,i.normalizedRange={start:y,end:R};for(var w=[],C=y;C<R;)m(C,i,e,o)&&w.push(C),C=r.add(C,i.slotDuration);i.slotDates=w;// more...
var D=-1,x=0,T=[],I=[];for(C=y;C<R;)m(C,i,e,o)?(D++,T.push(D),I.push(x)):T.push(D+.5),C=r.add(C,i.snapDuration),x++;return i.snapDiffToIndex=T,i.snapIndexToDiff=I,i.snapCnt=D+1,// is always one behind
i.slotCnt=i.snapCnt/i.snapsPerSlot,// more...
i.isWeekStarts=function(e,t){for(var r=e.slotDates,n=e.emphasizeWeeks,o=null,i=[],s=0,a=r;s<a.length;s++){var l=a[s],c=t.computeWeekNumber(l),u=n&&null!==o&&o!==c;o=c,i.push(u)}return i}(i,r),i.cellRows=function(e,r,n){// builds cellRows and slotCells
for(var o=e.slotDates,i=e.headerFormats,s=i.map((function(e){return[]})),a=i.map((function(e){return e.getLargestUnit?e.getLargestUnit():null})),l=0;l<o.length;l++)for(var c=o[l],u=e.isWeekStarts[l],d=0;d<i.length;d++){var p=i[d],h=s[d],f=h[h.length-1],y=null;if(i.length>1&&d<i.length-1){var v=r.format(c,p);f&&f.text===v?f.colspan+=1:y=E(c,v,a[d],n,r)}else{if(!f||t.isInt(r.countDurationsBetween(e.normalizedRange.start,c,e.labelInterval)))y=E(c,v=r.format(c,p),a[d],n,r);else f.colspan+=1}y&&(y.weekStart=u,h.push(y))}return s}(i,r,n),i}
/*
  snaps to appropriate unit
  */function v(e,r,n){var o=e;return r.isTimeScale||(o=t.startOfDay(o),r.largeUnit&&(o=n.startOf(o,r.largeUnit))),o}
/*
  snaps to appropriate unit
  */function m(e,r,n,o){if(o.isHiddenDay(e))return!1;if(r.isTimeScale){
// determine if the time is within minTime/maxTime, which may have wacky values
var i=t.startOfDay(e),s=e.valueOf()-i.valueOf()-t.asRoughMs(n.minTime);// make negative values wrap to 24hr clock
// milliseconds since minTime
return(s=(s%864e5+864e5)%864e5)<r.timeWindowMs;// before the maxTime?
}return!0}function g(e,r){var n=e[r];if(null!=n)return t.createDuration(n)}function S(e,r,n){var o=r.currentRange,i=e.labelInterval;if(!i){
// compute based off the slot duration
// find the largest label interval with an acceptable slots-per-label
var s=void 0;if(e.slotDuration){for(var a=0,l=f;a<l.length;a++){s=l[a];var c=t.createDuration(s),u=t.wholeDivideDurations(c,e.slotDuration);if(null!==u&&u<=6){i=c;break}}// use the slot duration as a last resort
i||(i=e.slotDuration);// compute based off the view's duration
// find the largest label interval that yields the minimum number of labels
}else for(var d=0,p=f;d<p.length;d++){if(s=p[d],i=t.createDuration(s),n.countDurationsBetween(o.start,o.end,i)>=18)break}e.labelInterval=i}return i}function b(e,r,n){var o=r.currentRange,i=null;return"years"===e?i=n.diffWholeYears(o.start,o.end):"months"===e||"weeks"===e?i=n.diffWholeMonths(o.start,o.end):"days"===e&&(i=t.diffWholeDays(o.start,o.end)),i||0}function E(e,r,n,o,i){return{text:r,spanHtml:t.buildGotoAnchorHtml(o,i,{date:e,type:n,forceOff:!n},{class:"fc-cell-text"},t.htmlEscape(r)),date:e,colspan:1,isWeekStart:!1}}var R,w=
/** @class */
function(){function e(e,t){this.headParent=e,this.bodyParent=t}return e.prototype.render=function(e,r){var n=r?{right:-e}:{left:e};this.headParent.appendChild(this.arrowEl=t.createElement("div",{className:"fc-now-indicator fc-now-indicator-arrow",style:n})),this.bodyParent.appendChild(this.lineEl=t.createElement("div",{className:"fc-now-indicator fc-now-indicator-line",style:n}))},e.prototype.unrender=function(){this.arrowEl&&t.removeElement(this.arrowEl),this.lineEl&&t.removeElement(this.lineEl)},e}(),C=-1!==(R=t.htmlToElement('<div style="position:-webkit-sticky;position:sticky"></div>').style.position).indexOf("sticky")?R:null,D=/Edge/.test(navigator.userAgent),x="-webkit-sticky"===C,T=
/** @class */
function(){function e(e,r,n){var o=this;this.usingRelative=null,
/*
      known bug: called twice on init. problem when mixing with ScrollJoiner
      */
this.updateSize=function(){var e=Array.prototype.slice.call(o.scroller.canvas.el.querySelectorAll(".fc-sticky")),r=o.queryElGeoms(e),n=o.scroller.el.clientWidth;o.usingRelative?// read before prepPositioning
function(e,r,n){e.forEach((function(e,o){var i=r[o].naturalBound;t.applyStyle(e,{position:"relative",left:n[o].left-i.left,top:n[o].top-i.top})}))}(e,r,o.computeElDestinations(r,n)):function(e,r,n){e.forEach((function(e,o){var i=0;"center"===r[o].intendedTextAlign&&(i=(n-r[o].elWidth)/2,// needs to be forced to left?
"center"===r[o].computedTextAlign&&(e.setAttribute("data-sticky-center",""),e.parentNode.style.textAlign="left")),t.applyStyle(e,{position:C,left:i,right:0,top:0})}))}(e,r,n)},this.scroller=e,this.usingRelative=!C||// IE11
D&&r||// https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/18883305/
(D||x)&&n,// because doesn't work with rowspan in tables, our only vertial use
this.usingRelative&&e.on("scrollEnd",this.updateSize)}return e.prototype.destroy=function(){this.scroller.off("scrollEnd",this.updateSize)},e.prototype.queryElGeoms=function(e){for(var r=this.scroller.canvas.el.getBoundingClientRect(),n=[],o=0,i=e;o<i.length;o++){var s=i[o],a=t.translateRect(s.parentNode.getBoundingClientRect(),-r.left,-r.top),l=s.getBoundingClientRect(),c=window.getComputedStyle(s),u=window.getComputedStyle(s.parentNode).textAlign,d=u,p=null;"sticky"!==c.position&&(p=t.translateRect(l,-r.left-(parseFloat(c.left)||0),// could be 'auto'
-r.top-(parseFloat(c.top)||0))),s.hasAttribute("data-sticky-center")&&(d="center"),n.push({parentBound:a,naturalBound:p,elWidth:l.width,elHeight:l.height,computedTextAlign:u,intendedTextAlign:d})}return n},e.prototype.computeElDestinations=function(e,t){var r=this.scroller.getScrollFromLeft(),n=this.scroller.getScrollTop(),o=r+t;return e.map((function(e){var t,i,s=e.elWidth,a=e.elHeight,l=e.parentBound,c=e.naturalBound;// "
switch(e.intendedTextAlign){case"left":t=r;break;case"right":t=o-s;break;case"center":t=(r+o)/2-s/2}// better to use natural top for upper bound
return t=Math.min(t,l.right-s),t=Math.max(t,l.left),i=n,i=Math.min(i,l.bottom-a),{left:t,top:i=Math.max(i,c.top)}}))},e}();var I=
/** @class */
function(e){function r(r,n){var o=e.call(this)||this;return o.renderSkeleton=t.memoizeRendering(o._renderSkeleton,o._unrenderSkeleton),o.layout=new d(r,n,"auto"),o}return n(r,e),r.prototype.render=function(e,t){var r=this.tDateProfile=y(e.dateProfile,t.dateEnv,t.options,e.dateProfileGenerator);// TODO: cache
this.renderSkeleton(t),this.header.receiveProps({dateProfile:e.dateProfile,tDateProfile:r},t),this.slats.receiveProps({dateProfile:e.dateProfile,tDateProfile:r},t)},r.prototype.destroy=function(){this.renderSkeleton.unrender(),this.layout.destroy(),e.prototype.destroy.call(this)},r.prototype._renderSkeleton=function(e){var t=this.layout,r=t.headerScroller.enhancedScroll,n=t.bodyScroller.enhancedScroll;// needs to go after layout, which has ScrollJoiner
this.headStickyScroller=new T(r,e.isRtl,!1),// isVertical=false
this.bodyStickyScroller=new T(n,e.isRtl,!1),// isVertical=false
this.header=new p(r.canvas.contentEl),this.slats=new h(n.canvas.bgEl),this.nowIndicator=new w(r.canvas.el,n.canvas.el)},r.prototype._unrenderSkeleton=function(){this.header.destroy(),this.slats.destroy(),this.nowIndicator.unrender(),this.headStickyScroller.destroy(),this.bodyStickyScroller.destroy()},// Now Indicator
// ------------------------------------------------------------------------------------------
r.prototype.getNowIndicatorUnit=function(e,r){var n=this.context,o=this.tDateProfile=y(e,n.dateEnv,n.options,r);// yuck
// TODO: cache
if(o.isTimeScale)return t.greatestDurationDenominator(o.slotDuration).unit},// will only execute if isTimeScale
r.prototype.renderNowIndicator=function(e){t.rangeContainsMarker(this.tDateProfile.normalizedRange,e)&&this.nowIndicator.render(this.dateToCoord(e),this.context.isRtl)},// will only execute if isTimeScale
r.prototype.unrenderNowIndicator=function(){this.nowIndicator.unrender()},// Sizing
// ------------------------------------------------------------------------------------------
r.prototype.updateSize=function(e,t,r){this.applySlotWidth(this.computeSlotWidth()),// adjusts gutters. do after slot widths set
this.layout.setHeight(t,r),// pretty much just queries coords. do last
this.slats.updateSize()},r.prototype.updateStickyScrollers=function(){this.headStickyScroller.updateSize(),this.bodyStickyScroller.updateSize()},r.prototype.computeSlotWidth=function(){var e=this.context.options.slotWidth||"";return""===e&&(e=this.computeDefaultSlotWidth(this.tDateProfile)),e},r.prototype.computeDefaultSlotWidth=function(e){var r=0;// TODO: harness core's `matchCellWidths` for this
this.header.innerEls.forEach((function(e,t){r=Math.max(r,e.getBoundingClientRect().width)}));var n=Math.ceil(r)+1,o=t.wholeDivideDurations(e.labelInterval,e.slotDuration),i=Math.ceil(n/o),s=window.getComputedStyle(this.header.slatColEls[0]).minWidth;// assume no padding, and one pixel border
// in TimelineView.defaults we ensured that labelInterval is an interval of slotDuration
// TODO: rename labelDuration?
return s&&(s=parseInt(s,10))&&(i=Math.max(i,s)),i},r.prototype.applySlotWidth=function(e){var t=this.layout,r=this.tDateProfile,n="",o="",i="";if(""!==e){n=(e=Math.round(e))*r.slotDates.length,o="",i=e;var s=t.bodyScroller.enhancedScroll.getClientWidth();s>n&&(o=s,n="",i=Math.floor(s/r.slotDates.length))}t.headerScroller.enhancedScroll.canvas.setWidth(n),t.headerScroller.enhancedScroll.canvas.setMinWidth(o),t.bodyScroller.enhancedScroll.canvas.setWidth(n),t.bodyScroller.enhancedScroll.canvas.setMinWidth(o),""!==i&&this.header.slatColEls.slice(0,-1).concat(this.slats.slatColEls.slice(0,-1)).forEach((function(e){e.style.width=i+"px"}))},// returned value is between 0 and the number of snaps
r.prototype.computeDateSnapCoverage=function(e){var r=this.tDateProfile,n=this.context.dateEnv.countDurationsBetween(r.normalizedRange.start,e,r.snapDuration);if(n<0)return 0;if(n>=r.snapDiffToIndex.length)return r.snapCnt;var o=Math.floor(n),i=r.snapDiffToIndex[o];return t.isInt(i)?
// not an in-between value
i+=n-o:
// a fractional value, meaning the date is not visible
// always round up in this case. works for start AND end dates in a range.
i=Math.ceil(i),i},// for LTR, results range from 0 to width of area
// for RTL, results range from negative width of area to 0
r.prototype.dateToCoord=function(e){var t=this.tDateProfile,r=this.computeDateSnapCoverage(e)/t.snapsPerSlot,n=Math.floor(r),o=r-(n=Math.min(n,t.slotCnt-1)),i=this.slats,s=i.innerCoordCache,a=i.outerCoordCache;return this.context.isRtl?a.rights[n]-s.getWidth(n)*o-a.originClientRect.width:a.lefts[n]+s.getWidth(n)*o},r.prototype.rangeToCoords=function(e){return this.context.isRtl?{right:this.dateToCoord(e.start),left:this.dateToCoord(e.end)}:{left:this.dateToCoord(e.start),right:this.dateToCoord(e.end)}},// Scrolling
// ------------------------------------------------------------------------------------------
r.prototype.computeDateScroll=function(e){var r=this.context,n=r.dateEnv,o=r.isRtl,i=this.props.dateProfile,s=0;return i&&(s=this.dateToCoord(n.add(t.startOfDay(i.activeRange.start),// startOfDay needed?
e)),// hack to overcome the left borders of non-first slat
!o&&s&&(s+=1)),{left:s}},r.prototype.queryDateScroll=function(){return{left:this.layout.bodyScroller.enhancedScroll.getScrollLeft()}},r.prototype.applyDateScroll=function(e){
// TODO: lame we have to update both. use the scrolljoiner instead maybe
this.layout.bodyScroller.enhancedScroll.setScrollLeft(e.left||0),this.layout.headerScroller.enhancedScroll.setScrollLeft(e.left||0)},r}(t.Component),P=
/** @class */
function(e){function r(t,r){var n=e.call(this)||this;return n.masterContainerEl=t,n.timeAxis=r,n}return n(r,e),r.prototype.renderSegHtml=function(e,r){var n=this.context,o=e.eventRange,i=o.def,s=o.ui,a=t.computeEventDraggable(n,i,s),l=e.isStart&&t.computeEventStartResizable(n,i,s),c=e.isEnd&&t.computeEventEndResizable(n,i,s),u=this.getSegClasses(e,a,l||c,r);u.unshift("fc-timeline-event","fc-h-event");var d=this.getTimeText(o);return'<a class="'+u.join(" ")+'" style="'+t.cssToStr(this.getSkinCss(s))+'"'+(i.url?' href="'+t.htmlEscape(i.url)+'"':"")+">"+(d?'<span class="fc-time-wrap"><span class="fc-time">'+t.htmlEscape(d)+"</span></span>":"")+'<span class="fc-title-wrap"><span class="fc-title fc-sticky">'+(i.title?t.htmlEscape(i.title):"&nbsp;")+"</span></span>"+(l?'<div class="fc-resizer fc-start-resizer"></div>':"")+(c?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},r.prototype.computeDisplayEventTime=function(){return!this.timeAxis.tDateProfile.isTimeScale;// because times should be obvious via axis
},r.prototype.computeDisplayEventEnd=function(){return!1},// Computes a default event time formatting string if `timeFormat` is not explicitly defined
r.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}},r.prototype.attachSegs=function(e,r){if(!this.el&&this.masterContainerEl&&(this.el=t.createElement("div",{className:"fc-event-container"}),r&&this.el.classList.add("fc-mirror-container"),this.masterContainerEl.appendChild(this.el)),this.el)for(var n=0,o=e;n<o.length;n++){var i=o[n];this.el.appendChild(i.el)}},r.prototype.detachSegs=function(e){for(var r=0,n=e;r<n.length;r++){var o=n[r];t.removeElement(o.el)}},// computes AND assigns (assigns the left/right at least). bad
r.prototype.computeSegSizes=function(e){for(var r=this.timeAxis,n=0,o=e;n<o.length;n++){var i=o[n],s=r.rangeToCoords(i);// works because Seg has start/end
t.applyStyle(i.el,{left:i.left=s.left,right:-(i.right=s.right)})}},r.prototype.assignSegSizes=function(e){if(this.el){// compute seg verticals
for(var r=0,n=e;r<n.length;r++){(a=n[r]).height=t.computeHeightAndMargins(a.el)}this.buildSegLevels(e);// populates above/below props for computeOffsetForSegs
var o=_(e);// also assigns seg.top
t.applyStyleProp(this.el,"height",o);// assign seg verticals
for(var i=0,s=e;i<s.length;i++){var a=s[i];t.applyStyleProp(a.el,"top",a.top)}}},r.prototype.buildSegLevels=function(e){for(var t=[],r=0,n=e=this.sortEventSegs(e);r<n.length;r++){var o=n[r];o.above=[];// level index
for(// determine the first level with no collisions
var i=0;i<t.length;){// determine collisions
for(var s=!1,a=0,l=t[i];a<l.length;a++){var c=l[a];A(o,c)&&(o.above.push(c),s=!0)}if(!s)break;i+=1}// insert into the first non-colliding level. create if necessary
for((t[i]||(t[i]=[])).push(o),// record possible colliding segments below (TODO: automated test for this)
i+=1;i<t.length;){for(var u=0,d=t[i];u<d.length;u++){var p=d[u];A(o,p)&&p.above.push(o)}i+=1}}return t},r}(t.FgEventRenderer);function _(e){for(var t=0,r=0,n=e;r<n.length;r++){var o=n[r];t=Math.max(t,H(o))}return t}function H(e){return null==e.top&&(e.top=_(e.above)),e.top+e.height}function A(e,t){return e.left<t.right&&e.right>t.left}var k=
/** @class */
function(e){function r(t,r){var n=e.call(this)||this;return n.masterContainerEl=t,n.timeAxis=r,n}return n(r,e),r.prototype.attachSegs=function(e,r){if(r.length){var n=void 0;n="businessHours"===e?"bgevent":e.toLowerCase();// making a new container each time is OKAY
// all types of segs (background or business hours or whatever) are rendered in one pass
var o=t.createElement("div",{className:"fc-"+n+"-container"});this.masterContainerEl.appendChild(o);for(var i=0,s=r;i<s.length;i++){var a=s[i];o.appendChild(a.el)}return[o];// return value
}},r.prototype.computeSegSizes=function(e){for(var t=this.timeAxis,r=0,n=e;r<n.length;r++){var o=n[r],i=t.rangeToCoords(o);o.left=i.left,o.right=i.right}},r.prototype.assignSegSizes=function(e){for(var r=0,n=e;r<n.length;r++){var o=n[r];t.applyStyle(o.el,{left:o.left,right:-o.right})}},r}(t.FillRenderer),z=
/** @class */
function(e){function r(r,n,o){var i=e.call(this,n)||this;i.slicer=new O,i.renderEventDrag=t.memoizeRendering(i._renderEventDrag,i._unrenderEventDrag),i.renderEventResize=t.memoizeRendering(i._renderEventResize,i._unrenderEventResize),i.fgContainerEl=r,i.timeAxis=o;var s=i.fillRenderer=new k(n,o),a=i.eventRenderer=new P(r,o);return i.mirrorRenderer=new P(r,o),i.renderBusinessHours=t.memoizeRendering(s.renderSegs.bind(s,"businessHours"),s.unrender.bind(s,"businessHours")),i.renderDateSelection=t.memoizeRendering(s.renderSegs.bind(s,"highlight"),s.unrender.bind(s,"highlight")),i.renderBgEvents=t.memoizeRendering(s.renderSegs.bind(s,"bgEvent"),s.unrender.bind(s,"bgEvent")),i.renderFgEvents=t.memoizeRendering(a.renderSegs.bind(a),a.unrender.bind(a)),i.renderEventSelection=t.memoizeRendering(a.selectByInstanceId.bind(a),a.unselectByInstanceId.bind(a),[i.renderFgEvents]),i}return n(r,e),r.prototype.render=function(e,t){var r=this.timeAxis,n=this.slicer.sliceProps(e,e.dateProfile,r.tDateProfile.isTimeScale?null:e.nextDayThreshold,t.calendar,this,r);this.renderBusinessHours(t,n.businessHourSegs),this.renderDateSelection(t,n.dateSelectionSegs),this.renderBgEvents(t,n.bgEventSegs),this.renderFgEvents(t,n.fgEventSegs),this.renderEventSelection(n.eventSelection),this.renderEventDrag(n.eventDrag),this.renderEventResize(n.eventResize)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.renderBusinessHours.unrender(),this.renderDateSelection.unrender(),this.renderBgEvents.unrender(),this.renderFgEvents.unrender(),this.renderEventSelection.unrender(),this.renderEventDrag.unrender(),this.renderEventResize.unrender()},r.prototype._renderEventDrag=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.mirrorRenderer.renderSegs(this.context,e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}))},r.prototype._unrenderEventDrag=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.mirrorRenderer.unrender(this.context,e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}))},r.prototype._renderEventResize=function(e){if(e){
// HACK. eventRenderer and fillRenderer both use these segs. would compete over seg.el
var t=e.segs.map((function(e){return i({},e)}));this.eventRenderer.hideByHash(e.affectedInstances),this.fillRenderer.renderSegs("highlight",this.context,t),this.mirrorRenderer.renderSegs(this.context,e.segs,{isDragging:!0,sourceSeg:e.sourceSeg})}},r.prototype._unrenderEventResize=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.fillRenderer.unrender("highlight",this.context),this.mirrorRenderer.unrender(this.context,e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}))},r.prototype.updateSize=function(e){var t=this,r=t.fillRenderer,n=t.eventRenderer,o=t.mirrorRenderer;r.computeSizes(e),n.computeSizes(e),o.computeSizes(e),r.assignSizes(e),n.assignSizes(e),o.assignSizes(e)},r}(t.DateComponent),O=
/** @class */
function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return n(r,e),r.prototype.sliceRange=function(e,r){var n=r.tDateProfile,o=r.props,i=o.dateProfile,s=o.dateProfileGenerator,a=function(e,r,n){if(!r.isTimeScale&&(e=t.computeVisibleDayRange(e),r.largeUnit)){var o=e;// preserve original result
// if date is partially through the interval, or is in the same interval as the start,
// make the exclusive end be the *next* interval
((e={start:n.startOf(e.start,r.largeUnit),end:n.startOf(e.end,r.largeUnit)}).end.valueOf()!==o.end.valueOf()||e.end<=e.start)&&(e={start:e.start,end:n.add(e.end,r.slotDuration)})}return e}(e,n,r.context.dateEnv),l=[];// protect against when the span is entirely in an invalid date region
if(r.computeDateSnapCoverage(a.start)<r.computeDateSnapCoverage(a.end)){
// intersect the footprint's range with the grid's range
var c=t.intersectRanges(a,n.normalizedRange);c&&l.push({start:c.start,end:c.end,isStart:c.start.valueOf()===a.start.valueOf()&&m(c.start,n,i,s),isEnd:c.end.valueOf()===a.end.valueOf()&&m(t.addMs(c.end,-1),n,i,s)})}return l},r}(t.Slicer),M=
/** @class */
function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderSkeleton=t.memoizeRendering(r._renderSkeleton,r._unrenderSkeleton),r.startInteractive=t.memoizeRendering(r._startInteractive,r._stopInteractive),r}return n(r,e),r.prototype._startInteractive=function(e){this.context.calendar.registerInteractiveComponent(this,{el:e})},r.prototype._stopInteractive=function(){this.context.calendar.unregisterInteractiveComponent(this)},r.prototype.render=function(t,r){e.prototype.render.call(this,t,r),// flags for updateSize, addScroll. and _renderSkeleton/_unrenderSkeleton
this.renderSkeleton(this.context),this.timeAxis.receiveProps({dateProfileGenerator:t.dateProfileGenerator,dateProfile:t.dateProfile},r),this.startInteractive(this.timeAxis.slats.el),this.lane.receiveProps(i({},t,{nextDayThreshold:this.context.nextDayThreshold}),r),this.startNowIndicator(t.dateProfile,t.dateProfileGenerator)},r.prototype.destroy=function(){this.startInteractive.unrender(),// "unrender" a weird name
this.renderSkeleton.unrender(),e.prototype.destroy.call(this)},r.prototype._renderSkeleton=function(e){this.el.classList.add("fc-timeline"),!1===e.options.eventOverlap&&this.el.classList.add("fc-no-overlap"),this.el.innerHTML=this.renderSkeletonHtml(),this.timeAxis=new I(this.el.querySelector("thead .fc-time-area"),this.el.querySelector("tbody .fc-time-area")),this.lane=new z(this.timeAxis.layout.bodyScroller.enhancedScroll.canvas.contentEl,this.timeAxis.layout.bodyScroller.enhancedScroll.canvas.bgEl,this.timeAxis)},r.prototype._unrenderSkeleton=function(){this.el.classList.remove("fc-timeline"),this.el.classList.remove("fc-no-overlap"),this.timeAxis.destroy(),this.lane.destroy()},r.prototype.renderSkeletonHtml=function(){var e=this.context.theme;return'<table class="'+e.getClass("tableGrid")+'"> <thead class="fc-head"> <tr> <td class="fc-time-area '+e.getClass("widgetHeader")+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-time-area '+e.getClass("widgetContent")+'"></td> </tr> </tbody> </table>'},r.prototype.updateSize=function(e,t,r){this.timeAxis.updateSize(e,t,r),this.lane.updateSize(e)},// Now Indicator
// ------------------------------------------------------------------------------------------
r.prototype.getNowIndicatorUnit=function(e,t){return this.timeAxis.getNowIndicatorUnit(e,t)},r.prototype.renderNowIndicator=function(e){this.timeAxis.renderNowIndicator(e)},r.prototype.unrenderNowIndicator=function(){this.timeAxis.unrenderNowIndicator()},// Scroll System
// ------------------------------------------------------------------------------------------
r.prototype.computeDateScroll=function(e){return this.timeAxis.computeDateScroll(e)},r.prototype.applyScroll=function(t,r){e.prototype.applyScroll.call(this,t,r);// will call applyDateScroll
var n=this.context.calendar;// avoid updating stickyscroll too often
// TODO: repeat code as ResourceTimelineView::updateSize
(r||n.isViewUpdated||n.isDatesUpdated||n.isEventsUpdated)&&this.timeAxis.updateStickyScrollers()},r.prototype.applyDateScroll=function(e){this.timeAxis.applyDateScroll(e)},r.prototype.queryScroll=function(){var e=this.timeAxis.layout.bodyScroller.enhancedScroll;return{top:e.getScrollTop(),left:e.getScrollLeft()}},// Hit System
// ------------------------------------------------------------------------------------------
r.prototype.buildPositionCaches=function(){this.timeAxis.slats.updateSize()},r.prototype.queryHit=function(e,t,r,n){var o=this.timeAxis.slats.positionToHit(e);if(o)return{component:this,dateSpan:o.dateSpan,rect:{left:o.left,right:o.right,top:0,bottom:n},dayEl:o.dayEl,layer:0}},r}(t.View),G=t.createPlugin({defaultView:"timelineDay",views:{timeline:{class:M,eventResizableFromStart:!0},timelineDay:{type:"timeline",duration:{days:1}},timelineWeek:{type:"timeline",duration:{weeks:1}},timelineMonth:{type:"timeline",duration:{months:1}},timelineYear:{type:"timeline",duration:{years:1}}}});e.HeaderBodyLayout=d,e.ScrollJoiner=u,e.StickyScroller=T,e.TimeAxis=I,e.TimelineLane=z,e.TimelineView=M,e.default=G,Object.defineProperty(e,"__esModule",{value:!0})})),
/*!
FullCalendar Resource Timeline Plugin v4.4.2
Docs & License: https://fullcalendar.io/scheduler
(c) 2019 Adam Shaw
*/
function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core"),require("@fullcalendar/timeline"),require("@fullcalendar/resource-common")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core","@fullcalendar/timeline","@fullcalendar/resource-common"],t):t((e=e||self).FullCalendarResourceTimeline={},e.FullCalendar,e.FullCalendarTimeline,e.FullCalendarResourceCommon)}(this,(function(e,t,r,n){"use strict";var o="default"in r?r.default:r,i="default"in n?n.default:n,s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function a(e,t){function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c=
/** @class */
function(e){function r(t,r,n,o){var i=e.call(this)||this;return i.isSizeDirty=!1,t.insertBefore(i.spreadsheetTr=document.createElement("tr"),r),n.insertBefore(i.timeAxisTr=document.createElement("tr"),o),i}return a(r,e),r.prototype.destroy=function(){t.removeElement(this.spreadsheetTr),t.removeElement(this.timeAxisTr),e.prototype.destroy.call(this)},r.prototype.updateSize=function(e){this.isSizeDirty=!1},r}(t.Component);function u(e,t){var r=e.classList;t?(r.remove("fc-icon-plus-square"),r.add("fc-icon-minus-square")):(r.remove("fc-icon-minus-square"),r.add("fc-icon-plus-square"))}function d(e,t){e.setAttribute("data-resource-id",t)}var p=
/** @class */
function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r._renderCells=t.memoizeRendering(r.renderCells,r.unrenderCells),r._updateExpanderIcon=t.memoizeRendering(r.updateExpanderIcon,null,[r._renderCells]),r.onExpanderClick=function(e){var t=r.props;r.context.calendar.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:t.id,isExpanded:!t.isExpanded})},r}return a(r,e),r.prototype.render=function(e){this._renderCells(e.group,e.spreadsheetColCnt),this._updateExpanderIcon(e.isExpanded),this.isSizeDirty=!0},r.prototype.destroy=function(){e.prototype.destroy.call(this),this._renderCells.unrender()},r.prototype.renderCells=function(e,r){var n=this.renderSpreadsheetContent(e);this.spreadsheetTr.appendChild(t.createElement("td",{className:"fc-divider",colSpan:r},this.spreadsheetHeightEl=t.createElement("div",null,n))),this.expanderIconEl=n.querySelector(".fc-icon"),this.expanderIconEl.parentElement.addEventListener("click",this.onExpanderClick),// insert a single cell, with a single empty <div>.
// there will be no content
this.timeAxisTr.appendChild(t.createElement("td",{className:"fc-divider"},this.timeAxisHeightEl=document.createElement("div")))},r.prototype.unrenderCells=function(){this.spreadsheetTr.innerHTML="",this.timeAxisTr.innerHTML=""},
/*
    Renders the content wrapper element that will be inserted into this row's TD cell.
    */
r.prototype.renderSpreadsheetContent=function(e){var r=this.renderCellText(e),n=t.htmlToElement('<div class="fc-cell-content"><span class="fc-expander"><span class="fc-icon"></span></span><span class="fc-cell-text">'+(r?t.htmlEscape(r):"&nbsp;")+"</span></div>"),o=e.spec.render;return"function"==typeof o&&(n=o(n,e.value)||n),n},r.prototype.renderCellText=function(e){var t=e.value||"",r=e.spec.text;// might be null/undefined if an ad-hoc grouping
return"function"==typeof r&&(t=r(t)||t),t},r.prototype.getHeightEls=function(){return[this.spreadsheetHeightEl,this.timeAxisHeightEl]},r.prototype.updateExpanderIcon=function(e){u(this.expanderIconEl,e)},r}(c);p.addEqualityFuncs({group:n.isGroupsEqual});var h=
/** @class */
function(e){function r(r){var n=e.call(this)||this;return n._renderRow=t.memoizeRendering(n.renderRow,n.unrenderRow),n._updateTrResourceId=t.memoizeRendering(d,null,[n._renderRow]),n._updateExpanderIcon=t.memoizeRendering(n.updateExpanderIcon,null,[n._renderRow]),n.onExpanderClick=function(e){var t=n.props;n.context.calendar.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:t.id,isExpanded:!t.isExpanded})},n.tr=r,n}return a(r,e),r.prototype.render=function(e){this._renderRow(e.resource,e.rowSpans,e.depth,e.colSpecs),this._updateTrResourceId(this.tr,e.resource.id),// TODO: only use public ID?
this._updateExpanderIcon(e.hasChildren,e.isExpanded)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this._renderRow.unrender()},r.prototype.renderRow=function(e,r,o,i){for(var s,a=this.context,l=a.calendar,c=a.view,u=a.theme,d=this.tr,p=n.buildResourceFields(e),h=0;h<i.length;h++){var y=i[h],v=r[h];if(0!==v){null==v&&(v=1);var m=void 0;m=y.field?p[y.field]:n.buildResourceTextFunc(y.text,l)(e);var g=t.htmlToElement('<div class="fc-cell-content">'+(y.isMain?f(o):"")+'<span class="fc-cell-text">'+(m?t.htmlEscape(m):"&nbsp;")+"</span></div>");"function"==typeof y.render&&(
// a filter function for the element
g=y.render(new n.ResourceApi(l,e),g)||g),v>1&&g.classList.add("fc-sticky");var S=t.createElement("td",{className:u.getClass("widgetContent"),rowspan:v},g);// the first cell of the row needs to have an inner div for setTrInnerHeight
y.isMain&&(S.appendChild(this.heightEl=t.createElement("div",null,S.childNodes)),s=S),d.appendChild(S)}}this.expanderIconEl=d.querySelector(".fc-expander-space .fc-icon"),// wait until very end
l.publiclyTrigger("resourceRender",[{resource:new n.ResourceApi(l,e),el:s,view:c}])},r.prototype.unrenderRow=function(){this.tr.innerHTML=""},r.prototype.updateExpanderIcon=function(e,t){var r,n=this.expanderIconEl,o=n.parentElement;n&&o&&(e?(o.addEventListener("click",this.onExpanderClick),o.classList.add("fc-expander"),u(n,t)):(o.removeEventListener("click",this.onExpanderClick),o.classList.remove("fc-expander"),(r=n.classList).remove("fc-icon-minus-square"),r.remove("fc-icon-plus-square")))},r}(t.Component);
/*
  Renders the HTML responsible for the subrow expander area,
  as well as the space before it (used to align expanders of similar depths)
  */function f(e){for(var t="",r=0;r<e;r++)t+='<span class="fc-icon"></span>';return t+='<span class="fc-expander-space"><span class="fc-icon"></span></span>'}var y=
/** @class */
function(e){function n(r,n,o,i,s){var a=e.call(this,r,n,o,i)||this;return a.renderSkeleton=t.memoizeRendering(a._renderSkeleton,a._unrenderSkeleton),a.updateTrResourceId=t.memoizeRendering(d),a.timeAxis=s,a}return a(n,e),n.prototype.render=function(e,t){this.renderSkeleton(t),// spreadsheetRow handles calling updateTrResourceId for spreadsheetTr
this.spreadsheetRow.receiveProps({colSpecs:e.colSpecs,id:e.id,rowSpans:e.rowSpans,depth:e.depth,isExpanded:e.isExpanded,hasChildren:e.hasChildren,resource:e.resource},t),this.updateTrResourceId(this.timeAxisTr,e.resource.id),this.lane.receiveProps({dateProfile:e.dateProfile,nextDayThreshold:e.nextDayThreshold,businessHours:e.businessHours,eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize},t),this.isSizeDirty=!0},n.prototype.destroy=function(){this.renderSkeleton.unrender(),e.prototype.destroy.call(this)},n.prototype._renderSkeleton=function(e){this.timeAxisTr.appendChild(this.cellEl=t.createElement("td",{className:e.theme.getClass("widgetContent")},this.innerContainerEl=document.createElement("div"))),this.spreadsheetRow=new h(this.spreadsheetTr),this.lane=new r.TimelineLane(this.innerContainerEl,this.innerContainerEl,this.timeAxis)},n.prototype._unrenderSkeleton=function(){this.spreadsheetRow.destroy(),this.lane.destroy(),t.removeElement(this.cellEl)},n.prototype.updateSize=function(t){e.prototype.updateSize.call(this,t),this.lane.updateSize(t)},n.prototype.getHeightEls=function(){return[this.spreadsheetRow.heightEl,this.innerContainerEl]},n}(c);y.addEqualityFuncs({rowSpans:t.isArraysEqual});var v=
/** @class */
function(e){function r(r){var n=e.call(this)||this;return n.resizables=[],n.colWidths=[],n.emitter=new t.EmitterMixin,n.renderSkeleton=t.memoizeRendering(n._renderSkeleton,n._unrenderSkeleton),n.parentEl=r,n}return a(r,e),r.prototype.render=function(e,r){this.renderSkeleton(r);var n=r.theme,o=e.colSpecs,i="<colgroup>"+e.colTags+"</colgroup><tbody>";e.superHeaderText&&(i+='<tr class="fc-super"><th class="'+n.getClass("widgetHeader")+'" colspan="'+o.length+'"><div class="fc-cell-content"><span class="fc-cell-text">'+t.htmlEscape(e.superHeaderText)+"</span></div></th></tr>"),i+="<tr>";for(var s=0;s<o.length;s++){var a=o[s],l=s===o.length-1;i+='<th class="'+n.getClass("widgetHeader")+'"><div><div class="fc-cell-content">'+(a.isMain?'<span class="fc-expander-space"><span class="fc-icon"></span></span>':"")+'<span class="fc-cell-text">'+t.htmlEscape(a.labelText||"")+"</span></div>"+(l?"":'<div class="fc-col-resizer"></div>')+"</div></th>"}i+="</tr>",i+="</tbody>",this.tableEl.innerHTML=i,this.thEls=Array.prototype.slice.call(this.tableEl.querySelectorAll("th")),this.colEls=Array.prototype.slice.call(this.tableEl.querySelectorAll("col")),this.resizerEls=Array.prototype.slice.call(this.tableEl.querySelectorAll(".fc-col-resizer")),this.initColResizing()},r.prototype.destroy=function(){for(var t=0,r=this.resizables;t<r.length;t++){r[t].destroy()}this.renderSkeleton.unrender(),e.prototype.destroy.call(this)},r.prototype._renderSkeleton=function(e){this.parentEl.appendChild(this.tableEl=t.createElement("table",{className:e.theme.getClass("tableGrid")}))},r.prototype._unrenderSkeleton=function(){t.removeElement(this.tableEl)},r.prototype.initColResizing=function(){var e=this,t=this.context,r=t.calendar,n=t.isRtl,o=r.pluginSystem.hooks.elementDraggingImpl;o&&(this.resizables=this.resizerEls.map((function(t,r){var i,s=new o(t);// because gets weird with auto-scrolling time area
return s.emitter.on("dragstart",(function(){"number"!=typeof(i=e.colWidths[r])&&(i=e.thEls[r].getBoundingClientRect().width)})),s.emitter.on("dragmove",(function(t){e.colWidths[r]=Math.max(i+t.deltaX*(n?-1:1),30),e.emitter.trigger("colwidthchange",e.colWidths)})),s.setAutoScrollEnabled(!1),s})))},r}(t.Component),m=
/** @class */
function(e){function n(n,o){var i=e.call(this)||this;return i.renderSkeleton=t.memoizeRendering(i._renderSkeleton,i._unrenderSkeleton),i.renderCells=t.memoizeRendering(i._renderCells,i._unrenderCells,[i.renderSkeleton]),i.layout=new r.HeaderBodyLayout(n,o,"clipped-scroll"),i}return a(n,e),n.prototype.render=function(e,t){this.renderSkeleton(t),this.renderCells(e.superHeaderText,e.colSpecs)},n.prototype.destroy=function(){this.renderCells.unrender(),this.renderSkeleton.unrender(),this.layout.destroy(),e.prototype.destroy.call(this)},n.prototype._renderSkeleton=function(e){var r=this;this.layout.bodyScroller.enhancedScroll.canvas.contentEl.appendChild(this.bodyContainerEl=t.createElement("div",{className:"fc-rows"},"<table><colgroup /><tbody /></table>")),this.bodyColGroup=this.bodyContainerEl.querySelector("colgroup"),this.bodyTbody=this.bodyContainerEl.querySelector("tbody");var n=this.layout.headerScroller.enhancedScroll;this.header=new v(n.canvas.contentEl),this.header.emitter.on("colwidthchange",(function(e){r.applyColWidths(e)}))},n.prototype._unrenderSkeleton=function(){this.header.destroy()},n.prototype._renderCells=function(e,t){var r=this.renderColTags(t);this.header.receiveProps({superHeaderText:e,colSpecs:t,colTags:r},this.context),this.bodyColGroup.innerHTML=r,this.bodyColEls=Array.prototype.slice.call(this.bodyColGroup.querySelectorAll("col")),this.applyColWidths(t.map((function(e){return e.width})))},n.prototype._unrenderCells=function(){this.bodyColGroup.innerHTML=""},n.prototype.renderColTags=function(e){for(var t="",r=0,n=e;r<n.length;r++){n[r].isMain?t+='<col class="fc-main-col"/>':t+="<col/>"}return t},n.prototype.updateSize=function(e,t,r){this.layout.setHeight(t,r)},n.prototype.applyColWidths=function(e){var t=this;e.forEach((function(e,r){var n,o=t.header.colEls[r],i=t.bodyColEls[r];// bad to access child
"number"==typeof e?n=e+"px":null==typeof e&&(n=""),o.style.width=i.style.width=n}))},n}(t.Component),g=
/** @class */
function(e){function o(){var r=null!==e&&e.apply(this,arguments)||this;return r.isStickyScrollDirty=!1,r.rowNodes=[],r.rowComponents=[],r.rowComponentsById={},r.resourceAreaWidthDraggings=[],r.splitter=new n.ResourceSplitter,// doesn't let it do businessHours tho
r.renderSkeleton=t.memoizeRendering(r._renderSkeleton,r._unrenderSkeleton),r.hasResourceBusinessHours=t.memoize(S),r.buildRowNodes=t.memoize(n.buildRowNodes),r.hasNesting=t.memoize(b),r.updateHasNesting=t.memoizeRendering(r._updateHasNesting),r.startInteractive=t.memoizeRendering(r._startInteractive,r._stopInteractive),r}// for ResourceViewProps
return a(o,e),o.prototype._startInteractive=function(e){this.context.calendar.registerInteractiveComponent(this,{el:e})},o.prototype._stopInteractive=function(){this.context.calendar.unregisterInteractiveComponent(this)},o.prototype.render=function(t,r){e.prototype.render.call(this,t,r),this.renderSkeleton(r);var n=this.splitter.splitProps(t),o=this.hasResourceBusinessHours(t.resourceStore);this.spreadsheet.receiveProps({superHeaderText:this.superHeaderText,colSpecs:this.colSpecs},r),this.timeAxis.receiveProps({dateProfileGenerator:t.dateProfileGenerator,dateProfile:t.dateProfile},r),this.startInteractive(this.timeAxis.slats.el),// for all-resource bg events / selections / business-hours
this.lane.receiveProps(l({},n[""],{dateProfile:t.dateProfile,nextDayThreshold:r.nextDayThreshold,businessHours:o?null:t.businessHours}),r);var i=this.buildRowNodes(t.resourceStore,this.groupSpecs,this.orderSpecs,this.isVGrouping,t.resourceEntityExpansions,r.options.resourcesInitiallyExpanded);this.updateHasNesting(this.hasNesting(i)),this.diffRows(i),this.updateRowProps(t.dateProfile,o?t.businessHours:null,// CONFUSING, comment
n),this.startNowIndicator(t.dateProfile,t.dateProfileGenerator)},o.prototype._renderSkeleton=function(e){var o=e.options,i=e.calendar,s=o.resourceColumns||[],a=o.resourceLabelText,l=null;s.length?l=a:s.push({labelText:a||"Resources",text:n.buildResourceTextFunc(o.resourceText,i)});for(var c=[],u=[],d=[],p=!1,h=!1,f=0,y=s;f<y.length;f++){var v=y[f];v.group?u.push(v):c.push(v)}if(c[0].isMain=!0,u.length)d=u,p=!0;else{var g=o.resourceGroupField;g&&(h=!0,d.push({field:g,text:o.resourceGroupText,render:o.resourceGroupRender}))}for(var S=[],b=0,E=t.parseFieldSpecs(o.resourceOrder);b<E.length;b++){for(var R=E[b],w=!1,C=0,D=d;C<D.length;C++){var x=D[C];if(x.field===R.field){x.order=R.order,// -1, 0, 1
w=!0;break}}w||S.push(R)}this.superHeaderText=l,this.isVGrouping=p,this.isHGrouping=h,this.groupSpecs=d,this.colSpecs=u.concat(c),this.orderSpecs=S,// START RENDERING...
this.el.classList.add("fc-timeline"),!1===o.eventOverlap&&this.el.classList.add("fc-no-overlap"),this.el.innerHTML=this.renderSkeletonHtml(),this.resourceAreaHeadEl=this.el.querySelector("thead .fc-resource-area"),this.setResourceAreaWidth(o.resourceAreaWidth),this.initResourceAreaWidthDragging(),this.miscHeight=this.el.getBoundingClientRect().height,this.spreadsheet=new m(this.resourceAreaHeadEl,this.el.querySelector("tbody .fc-resource-area")),this.timeAxis=new r.TimeAxis(this.el.querySelector("thead .fc-time-area"),this.el.querySelector("tbody .fc-time-area"));var T=t.createElement("div",{className:"fc-rows"},"<table><tbody /></table>");this.timeAxis.layout.bodyScroller.enhancedScroll.canvas.contentEl.appendChild(T),this.timeAxisTbody=T.querySelector("tbody"),this.lane=new r.TimelineLane(null,this.timeAxis.layout.bodyScroller.enhancedScroll.canvas.bgEl,this.timeAxis),this.bodyScrollJoiner=new r.ScrollJoiner("vertical",[this.spreadsheet.layout.bodyScroller,this.timeAxis.layout.bodyScroller]),// after scrolljoiner
this.spreadsheetBodyStickyScroller=new r.StickyScroller(this.spreadsheet.layout.bodyScroller.enhancedScroll,e.isRtl,!0)},o.prototype._unrenderSkeleton=function(e){this.startInteractive.unrender(),// "unrender" bad name
this.destroyRows(),// wierd to call this here
this.spreadsheet.destroy(),this.timeAxis.destroy(),this.lane.destroy(),this.spreadsheetBodyStickyScroller.destroy(),this.el.classList.remove("fc-timeline"),this.el.classList.remove("fc-no-overlap")},o.prototype.renderSkeletonHtml=function(){var e=this.context.theme;return'<table class="'+e.getClass("tableGrid")+'"> <thead class="fc-head"> <tr> <td class="fc-resource-area '+e.getClass("widgetHeader")+'"></td> <td class="fc-divider fc-col-resizer '+e.getClass("widgetHeader")+'"></td> <td class="fc-time-area '+e.getClass("widgetHeader")+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-resource-area '+e.getClass("widgetContent")+'"></td> <td class="fc-divider fc-col-resizer '+e.getClass("widgetHeader")+'"></td> <td class="fc-time-area '+e.getClass("widgetContent")+'"></td> </tr> </tbody> </table>'},o.prototype._updateHasNesting=function(e){var t=this.el.classList;e?t.remove("fc-flat"):t.add("fc-flat")},o.prototype.diffRows=function(e){var t=this.rowNodes,r=t.length,n={},o=0,i=0;for(o=0;o<r;o++)n[t[o].id]=o;// iterate new nodes
for(o=0,i=0;i<e.length;i++){var s=e[i],a=n[s.id];null!=a&&a>=o?(this.removeRows(i,a-o,t),// won't do anything if same index
o=a+1):this.addRow(i,s)}// old rows that weren't found need to be removed
this.removeRows(i,r-o,t),// won't do anything if same index
this.rowNodes=e},
/*
    rowComponents is the in-progress result
    */
o.prototype.addRow=function(e,t){var r=this.rowComponents,n=this.rowComponentsById,o=r[e],i=this.buildChildComponent(t,this.spreadsheet.bodyTbody,o?o.spreadsheetTr:null,this.timeAxisTbody,o?o.timeAxisTr:null);r.splice(e,0,i),n[t.id]=i},o.prototype.removeRows=function(e,t,r){if(t){for(var n=this.rowComponents,o=this.rowComponentsById,i=0;i<t;i++){n[e+i].destroy(),delete o[r[i].id]}n.splice(e,t)}},o.prototype.buildChildComponent=function(e,t,r,n,o){return e.group?new p(t,r,n,o):e.resource?new y(t,r,n,o,this.timeAxis):void 0},o.prototype.updateRowProps=function(e,t,r){for(var n=this,o=n.rowNodes,i=n.rowComponents,s=n.context,a=0;a<o.length;a++){var c=o[a],u=i[a];if(c.group)u.receiveProps({spreadsheetColCnt:this.colSpecs.length,id:c.id,isExpanded:c.isExpanded,group:c.group},s);else{var d=c.resource;u.receiveProps(l({},r[d.id],{dateProfile:e,nextDayThreshold:s.nextDayThreshold,businessHours:d.businessHours||t,colSpecs:this.colSpecs,id:c.id,rowSpans:c.rowSpans,depth:c.depth,isExpanded:c.isExpanded,hasChildren:c.hasChildren,resource:c.resource}),s)}}},o.prototype.updateSize=function(e,r,n){
// FYI: this ordering is really important
var o=this.context.calendar,i=e||o.isViewUpdated||o.isDatesUpdated||o.isEventsUpdated;i&&this.syncHeadHeights(),// TODO: don't always call these (but guarding behind isBaseSizing was unreliable)
this.timeAxis.updateSize(e,r-this.miscHeight,n),this.spreadsheet.updateSize(e,r-this.miscHeight,n);var s=this.updateRowSizes(e);this.lane.updateSize(e),// is efficient. uses flags
(i||s)&&(this.bodyScrollJoiner.update(),this.timeAxis.layout.scrollJoiner.update(),// hack
this.rowPositions=new t.PositionCache(this.timeAxis.slats.el,this.rowComponents.map((function(e){return e.timeAxisTr})),!1,// isHorizontal
!0),this.rowPositions.build(),this.isStickyScrollDirty=!0)},o.prototype.syncHeadHeights=function(){var e=this.spreadsheet.header.tableEl,t=this.timeAxis.header.tableEl;e.style.height="",t.style.height="";var r=Math.max(e.getBoundingClientRect().height,t.getBoundingClientRect().height);e.style.height=t.style.height=r+"px"},o.prototype.updateRowSizes=function(e){var t=this.rowComponents;e||(t=t.filter((function(e){return e.isSizeDirty})));// reset to natural heights
for(var r=t.map((function(e){return e.getHeightEls()})),n=0,o=r;n<o.length;n++)for(var i=0,s=o[n];i<s.length;i++){s[i].style.height=""}// let rows update their contents' heights
for(var a=0,l=t;a<l.length;a++){l[a].updateSize(e)}for(var c=r.map((function(e){for(var t=null,r=0,n=e;r<n.length;r++){var o=n[r].getBoundingClientRect().height;(null===t||o>t)&&(t=o)}return t})),u=0;u<r.length;u++)for(var d=0,p=r[u];d<p.length;d++){p[d].style.height=c[u]+"px"}return t.length},o.prototype.destroyRows=function(){for(var e=0,t=this.rowComponents;e<t.length;e++){t[e].destroy()}this.rowNodes=[],this.rowComponents=[]},o.prototype.destroy=function(){for(var t=0,r=this.resourceAreaWidthDraggings;t<r.length;t++){r[t].destroy()}this.renderSkeleton.unrender(),// will call destroyRows
e.prototype.destroy.call(this)},// Now Indicator
// ------------------------------------------------------------------------------------------
o.prototype.getNowIndicatorUnit=function(e,t){return this.timeAxis.getNowIndicatorUnit(e,t)},o.prototype.renderNowIndicator=function(e){this.timeAxis.renderNowIndicator(e)},o.prototype.unrenderNowIndicator=function(){this.timeAxis.unrenderNowIndicator()},// Scrolling
// ------------------------------------------------------------------------------------------------------------------
// this is useful for scrolling prev/next dates while resource is scrolled down
o.prototype.queryScroll=function(){var t=e.prototype.queryScroll.call(this);return this.props.resourceStore&&l(t,this.queryResourceScroll()),t},o.prototype.applyScroll=function(t,r){e.prototype.applyScroll.call(this,t,r),this.props.resourceStore&&this.applyResourceScroll(t),// avoid updating stickyscroll too often
(r||this.isStickyScrollDirty)&&(this.isStickyScrollDirty=!1,this.spreadsheetBodyStickyScroller.updateSize(),this.timeAxis.updateStickyScrollers())},o.prototype.computeDateScroll=function(e){return this.timeAxis.computeDateScroll(e)},o.prototype.queryDateScroll=function(){return this.timeAxis.queryDateScroll()},o.prototype.applyDateScroll=function(e){this.timeAxis.applyDateScroll(e)},o.prototype.queryResourceScroll=function(){// fixed position
for(var e=this.rowComponents,t=this.rowNodes,r={},n=this.timeAxis.layout.bodyScroller.el.getBoundingClientRect().top,o=0;o<e.length;o++){var i=e[o],s=t[o],a=i.timeAxisTr.getBoundingClientRect().bottom;// fixed position
if(a>n){r.rowId=s.id,r.bottom=a-n;break}}// TODO: what about left scroll state for spreadsheet area?
return r},o.prototype.applyResourceScroll=function(e){var t=e.forcedRowId||e.rowId;if(t){var r=this.rowComponentsById[t];if(r){var n=r.timeAxisTr;if(n){var o=this.timeAxis.layout.bodyScroller.enhancedScroll.canvas.el.getBoundingClientRect().top,i=n.getBoundingClientRect(),s=(e.forcedRowId?i.top:// just use top edge
i.bottom-e.bottom)-// pixels from bottom edge
o;this.timeAxis.layout.bodyScroller.enhancedScroll.setScrollTop(s),this.spreadsheet.layout.bodyScroller.enhancedScroll.setScrollTop(s)}}}},// TODO: scrollToResource
// Hit System
// ------------------------------------------------------------------------------------------
o.prototype.buildPositionCaches=function(){this.timeAxis.slats.updateSize(),this.rowPositions.build()},o.prototype.queryHit=function(e,t){var r=this.rowPositions,n=this.timeAxis.slats,o=r.topToIndex(t);if(null!=o){var i=this.rowNodes[o].resource;if(i){
// not a group
var s=n.positionToHit(e);if(s)return{component:this,dateSpan:{range:s.dateSpan.range,allDay:s.dateSpan.allDay,resourceId:i.id},rect:{left:s.left,right:s.right,top:r.tops[o],bottom:r.bottoms[o]},dayEl:s.dayEl,layer:0}}}},// Resource Area
// ------------------------------------------------------------------------------------------------------------------
o.prototype.setResourceAreaWidth=function(e){this.resourceAreaWidth=e,t.applyStyleProp(this.resourceAreaHeadEl,"width",e||"")},o.prototype.initResourceAreaWidthDragging=function(){var e=this,t=this.context,r=t.calendar,n=t.isRtl,o=Array.prototype.slice.call(this.el.querySelectorAll(".fc-col-resizer")),i=r.pluginSystem.hooks.elementDraggingImpl;i&&(this.resourceAreaWidthDraggings=o.map((function(t){var r,o,s=new i(t);// because gets weird with auto-scrolling time area
return s.emitter.on("dragstart",(function(){"number"!=typeof(r=e.resourceAreaWidth)&&(r=e.resourceAreaHeadEl.getBoundingClientRect().width),o=e.el.getBoundingClientRect().width})),s.emitter.on("dragmove",(function(t){var i=r+t.deltaX*(n?-1:1);i=Math.max(i,30),i=Math.min(i,o-30),e.setResourceAreaWidth(i)})),s.setAutoScrollEnabled(!1),s})))},o.needsResourceData=!0,o}(t.View);function S(e){for(var t in e){if(e[t].businessHours)return!0}return!1}function b(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(n.group)return!0;if(n.resource&&n.hasChildren)return!0}return!1}var E=t.createPlugin({deps:[i,o],defaultView:"resourceTimelineDay",views:{resourceTimeline:{class:g,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}});e.ResourceTimelineView=g,e.default=E,Object.defineProperty(e,"__esModule",{value:!0})}));