function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){"use strict";
/**
   * @package   DPCalendar
   * @author    Digital Peak http://www.digital-peak.com
   * @copyright Copyright (C) 2007 - 2020 Digital Peak. All rights reserved.
   * @license   http://www.gnu.org/licenses/gpl-3.0.html GNU/GPL
   */var e=window.DPCalendar||{};window.DPCalendar=e,// Make sure the options are loaded correctly
Joomla.loadOptions(),// Counter for currently active XHR requests
e.requestCounter=0,e.modal=function(e,t,o,n){loadDPAssets(["/com_dpcalendar/js/domurl/url.js","/com_dpcalendar/js/tingle/tingle.js","/com_dpcalendar/css/tingle/tingle.css"],(function(){var r=new tingle.modal({footer:!1,stickyFooter:!1,closeMethods:["overlay","button","escape"],cssClass:["dpcalendar-modal"],closeLabel:Joomla.JText._("COM_DPCALENDAR_CLOSE","Close"),onClose:function(){n&&n(r.modalBox.children[0].querySelector("iframe"))}});// Overwrite the width of the modal
t&&document.body.clientWidth>t&&(isNaN(t)||(t+="px"),document.querySelector(".tingle-modal-box").style.width=t),o||(o="80vh"),isNaN(o)||(o+="px");var a=new Url(e);a.query.tmpl="component",r.setContent('<iframe style="width:100%; height:'+o+'" src="'+a.toString()+'" frameborder="0" allowfullscreen></iframe>'),r.open()}))},e.print=function(e){document.body.outerHTML=document.querySelector(e).outerHTML,window.addEventListener("afterprint",(function(e){
// Page needs to be reloaded, otherwise all listeners are lost
// A timeout is needed till the system dialog closes on FF
setTimeout((function(){return window.location.reload(!0)}),2e3)})),window.print()},e.slideToggle=function(e,t){if(e){if(!e.getAttribute("data-max-height")){
// Backup the styles
var o=window.getComputedStyle(e),n=o.display,r=o.position,a=o.visibility,i=e.offsetHeight;// Some defaults
// If its not hidden we just use normal height
if("none"===n){
// The element is hidden:
// Making the el block so we can measure its height but still be hidden
// el.style.position = 'absolute';
e.style.visibility="hidden",e.style.display="block",i=e.offsetHeight;var l=window.getComputedStyle(e);i+=parseFloat(l.getPropertyValue("margin-top"))+parseFloat(l.marginBottom),// Reverting to the original values
e.style.display=n,e.style.position=r,e.style.visibility=a}e.style.maxHeight&&e.style.maxHeight<i&&(i=e.style.maxHeight,e.style.overflowY="auto"),// Setting the required styles
e.style.transition="max-height 0.5s ease-in-out",e.style.overflowX="hidden",e.style.overflowY="hidden",e.style.maxHeight="none"===n?"0px":i+"px",e.style.display="block",// Backup the element height attribute
e.setAttribute("data-max-height",i+"px")}// Flag if we fade in
var s="0"===e.style.maxHeight.replace("px","").replace("%","");// If a callback exists add a listener
t&&e.addEventListener("transitionend",(function(){return t(s)}),{once:!0}),// We use setTimeout to modify maxHeight later than display to have a transition effect
setTimeout((function(){e.style.maxHeight=s?e.getAttribute("data-max-height"):"0"}),1)}},e.encode=function(e){return e.replace(/&amp;/g,"&")},e.pad=function(e,t){for(var o=e+"";o.length<t;)o="0"+o;return o},e.formToQueryString=function(e,t){for(var o,n=t?e.querySelectorAll(t):e.elements,r=[],a=0;a<n.length;a++)if((o=n[a]).name&&!o.disabled&&"file"!=o.type&&"reset"!=o.type&&"submit"!=o.type&&"button"!=o.type)if("select-multiple"==o.type)for(var i=n[a].options.length-1;i>=0;i--)o.options[i].selected&&(r[r.length]=encodeURIComponent(o.name)+"="+encodeURIComponent(o.options[i].value));else("checkbox"!=o.type&&"radio"!=o.type||o.checked)&&(r[r.length]=encodeURIComponent(o.name)+"="+encodeURIComponent(o.value));return r.join("&").replace(/%20/g,"+")},e.arrayToQueryString=function(t,o){var n,r=[];for(n in t)if(t.hasOwnProperty(n)){var a=o?o+"["+n+"]":n,i=t[n];r.push(null!==i&&"object"===_typeof(i)?e.arrayToQueryString(i,a):encodeURIComponent(a)+"="+encodeURIComponent(i))}return r.join("&").replace(/%20/g,"+")},e.currentLocation=function(t){return!!navigator.geolocation&&(navigator.geolocation.getCurrentPosition((function(o){var n="location.loc";-1==window.location.href.indexOf("administrator")&&(n="locationform.loc"),e.request("task="+n+"&loc="+encodeURIComponent(o.coords.latitude+","+o.coords.longitude),(function(e){return t(e.data.formated)}))}),(function(e){Joomla.renderMessages({error:[e.message]})})),!0)},e.request=function(t,o,n,r){var a=!1!==r?document.querySelector(".dp-loader"):null;a&&a.classList.remove("dp-loader_hidden"),n||(n=""),n+=(n?"&":"")+Joomla.getOptions("csrf.token")+"=1",e.requestCounter++,Joomla.request({url:Joomla.getOptions("system.paths").base+"/index.php?option=com_dpcalendar&"+t,method:"POST",data:n,onSuccess:function(n){e.requestCounter--,a&&a.classList.add("dp-loader_hidden");try{var r=JSON.parse(n);null!=r.messages&&0!==r.messages.length&&document.getElementById("system-message-container")&&Joomla.renderMessages(r.messages),o&&o(r)}catch(e){document.getElementById("system-message-container")&&Joomla.renderMessages({error:[t+"<br>"+e.message]}),window.console&&console.log(e)}},onError:function(o){e.requestCounter--,a&&a.classList.add("dp-loader_hidden");try{var n=JSON.parse(o);null!=n.messages&&0!==n.messages.length&&document.getElementById("system-message-container")&&Joomla.renderMessages(n.messages)}catch(e){document.getElementById("system-message-container")&&Joomla.renderMessages({error:[t+"<br>"+e.message]})}}})},e.debounce=function(e,t,o){var n;return null==t&&(t=500),null==o&&(o=!1),function(){var r=this,a=arguments,i=function(){n=null,o||e.apply(r,a)},l=o&&!n;clearTimeout(n),n=setTimeout(i,t),l&&e.apply(r,a)}},// Print button
[].slice.call(document.querySelectorAll(".dp-button-print")).forEach((function(t){t.addEventListener("click",(function(){e.print(t.getAttribute("data-selector"))}))})),// Buttons as links
[].slice.call(document.querySelectorAll(".dp-button-action[data-href]")).forEach((function(e){e.addEventListener("click",(function(){return!(e.classList.contains("dp-action-delete")&&!confirm(Joomla.JText._("COM_DPCALENDAR_CONFIRM_DELETE")))&&("new"==e.getAttribute("data-target")?(window.open(e.getAttribute("data-href")),!1):(location.href=e.getAttribute("data-href"),!1))}))})),// Tabs save state
[].slice.call(document.querySelectorAll(".dp-tabs__input")).forEach((function(e){e.addEventListener("click",(function(){localStorage.setItem("dp-tabs-"+e.name,e.id)})),localStorage.getItem("dp-tabs-"+e.name)==e.id&&(e.checked=!0)}))}();