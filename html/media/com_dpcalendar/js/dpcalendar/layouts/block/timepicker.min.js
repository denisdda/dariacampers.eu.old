!function(){"use strict";
/**
   * @package   DPCalendar
   * @author    Digital Peak http://www.digital-peak.com
   * @copyright Copyright (C) 2007 - 2020 Digital Peak. All rights reserved.
   * @license   http://www.gnu.org/licenses/gpl-3.0.html GNU/GPL
   */loadDPAssets(["/com_dpcalendar/js/moment/moment.js","/com_dpcalendar/js/dpcalendar/dpcalendar.js","/com_dpcalendar/js/dpcalendar/layouts/block/autocomplete.js"],(function(){[].slice.call(document.querySelectorAll(".dp-timepicker")).forEach((function(t){var e=t.getAttribute("data-format"),a=moment(t.getAttribute("data-time"),"HH:mm");t.value=a.format(e),t.setAttribute("data-max-length",0),DPCalendar.autocomplete.create(t);var n=moment(a);if(n.set("hour",0),n.set("minute",0),n.set("second",0),t.getAttribute("data-min-time")){var m=t.getAttribute("data-min-time").split(":");n.set("hour",m[0]),n.set("minute",m[1])}var r=moment(a);if(r.set("hour",23),r.set("minute",59),r.set("second",0),t.getAttribute("data-max-time")){var i=t.getAttribute("data-max-time").split(":");r.set("hour",i[0]),r.set("minute",i[1])}for(var o=[];n<=r;)o.push({title:n.format(e),details:""}),n.add(t.getAttribute("data-step"),"minute");t.addEventListener("dp-autocomplete-change",(function(){DPCalendar.autocomplete.setItems(t,o)})),t.addEventListener("dp-autocomplete-select",(function(){var e=document.createEvent("HTMLEvents");e.initEvent("change"),t.dispatchEvent(e)})),t.addEventListener("change",(function(t){var a=document.getElementById("jform_"+t.target.getAttribute("data-pair"));if(!a||!t.target.actualDate)return!0;var n=moment.utc(t.target.value,e).diff(moment.utc(t.target.actualDate,e)),m=moment.utc(a.value,e);m.add(n,"ms"),a.value=m.format(e),t.target.actualDate=t.target.value})),t.actualDate=t.value,t.addEventListener("mousedown",(function(){t.nextElementSibling||(DPCalendar.autocomplete.setItems(t,o),DPCalendar.slideToggle(t.nextElementSibling))}))}))}))}();