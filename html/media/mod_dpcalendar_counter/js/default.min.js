!function(){"use strict";
/**
   * @package   DPCalendar
   * @author    Digital Peak http://www.digital-peak.com
   * @copyright Copyright (C) 2007 - 2020 Digital Peak. All rights reserved.
   * @license   http://www.gnu.org/licenses/gpl-3.0.html GNU/GPL
   */document.addEventListener("DOMContentLoaded",(function(){loadDPAssets(["/com_dpcalendar/js/moment/moment.js"],(function(){[].slice.call(document.querySelectorAll(".mod-dpcalendar-counter")).forEach((function(e){1==e.getAttribute("data-modal")&&e.addEventListener("click",(function(e){e.target&&e.target.matches(".mod-dpcalendar-counter__link")&&(e.preventDefault(),loadDPAssets(["/com_dpcalendar/js/dpcalendar/dpcalendar.js"],(function(){DPCalendar.modal(e.target.getAttribute("href"))})))}));var t=moment(e.getAttribute("data-date")),n=moment();if(t-n>0){e.querySelector(".mod-dpcalendar-counter__ongoing .mod-dpcalendar-counter__intro-text").style.display="none";var o=function(e,t,n,o){var r=t.querySelector(".mod-dpcalendar-counter__"+e);if(null!=r){var a=n.diff(o,e),d="";a>0||"second"==e?(d="MOD_DPCALENDAR_COUNTER_LABEL_"+e.toUpperCase(),a>1&&(d+="S"),r.classList.remove("dp-counter-block_empty")):(a="",t.querySelector(".mod-dpcalendar-counter__"+e).classList.add("dp-counter-block_empty")),t.querySelector(".mod-dpcalendar-counter__"+e+" .dp-counter-block__content").innerText=Joomla.JText._(d),t.querySelector(".mod-dpcalendar-counter__"+e+" .dp-counter-block__number").innerText=a,o.add(a,e)}};o("year",e,t,n),o("month",e,t,n),o("week",e,t,n),o("day",e,t,n),o("hour",e,t,n),o("minute",e,t,n),o("second",e,t,n),e.getAttribute("data-counting")&&setInterval((function(e){var t=moment(e.getAttribute("data-date")),n=moment();o("year",e,t,n),o("month",e,t,n),o("week",e,t,n),o("day",e,t,n),o("hour",e,t,n),o("minute",e,t,n),o("second",e,t,n)}),1e3,e)}else e.querySelector(".mod-dpcalendar-counter__upcoming").style.display="none"}))}))}))}();